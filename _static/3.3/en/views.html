<!doctype html>
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->








    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <script type="text/javascript" src="/assets/js/viewport-min-width.js?v1547266080100021829"></script>
        <meta name="description"
              content="Official Phalcon Documentation">
        <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework, php extension, next generation framework, docs, documentation">
        <meta name="author" href="/humans.txt">
        <meta name="generator" content="Phalcon Team - Jekyll - Netlify">

        <link href="https://phalcon-docs4.netlify.com/3.3/en/views.html" rel="canonical">
        <title>Phalcon Framework Documentation</title>

        <!-- Twitter -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@zephirlang">
        <meta name="twitter:creator" content="@zephirlang">
        <meta name="twitter:title" content="Phalcon Framework Documentation">
        <meta name="twitter:description" content="Official Phalcon Documentation">
        <meta name="twitter:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <!-- Facebook -->
        <meta property="og:url" content="https://phalcon-docs4.netlify.com">
        <meta property="og:title" content="Phalcon Framework Documentation">
        <meta property="og:description" content="Official Phalcon Documentation">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <meta name="msapplication-TileColor" content="#FFFFFF">
        <meta name="msapplication-square70x70logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-70x70.png">
        <meta name="msapplication-TileImage"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-144x144.png">
        <meta name="msapplication-square150x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-150x150.png">
        <meta name="msapplication-wide310x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x150.png">
        <meta name="msapplication-square310x310logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x310.png">

        <link rel="apple-touch-icon"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon.png">

        <link rel="apple-touch-icon-precomposed"
              sizes="57x57"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="60x60"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="72x72"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="76x76"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="114x114"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="120x120"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="144x144"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="152x152"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-152x152.png">

        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-16x16.png">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-32x32.png">
        <link rel="icon"
              type="image/png"
              sizes="96x96"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-96x96.png">
        <link rel="icon"
              type="image/png"
              sizes="128x128"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-128x128.png">
        <link rel="icon"
              type="image/png"
              sizes="196x196"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-196x196.png">
        <link rel="shortcut icon"
              type="image/png"
              href="https://assets.phalconphp.com/phalcon/favicon.ico"/>

        <link rel="alternate"
              type="application/rss+xml"
              title=" - "
              href="https://phalcon-docs4.netlify.com/feed.xml">

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="
              crossorigin="anonymous" />
        <link rel="stylesheet" href="/assets/css/monokai.css?v1547266080100021829" />
        <link rel="stylesheet" href="/assets/css/style.css?v1547266080100021829" />

        <script defer src="https://use.fontawesome.com/releases/v5.6.1/js/all.js"
                integrity="sha384-R5JkiUweZpJjELPWqttAYmYM1P3SNEJRM6ecTQF05pFFtxmCO+Y1CiUhvuDzgSVZ"
                crossorigin="anonymous"></script>
        
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90300500-6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90300500-6');
    </script>

    </head>


<body onclick="o2.allNavSlideUp()">
    <header class="header-image-doc">
        <div class="container">
            <div class="header-wrapper">
                <div class="clearfix">
                    <div class="row">
                        <div class="col-md-2 col-sm-3  col-xs-8">
                            <div class="header-image__logo-wrapper">
                                <a href="/3.3/en">
                                    <img class="logo-img" src="/assets/images/header_logo.svg" alt="logo">
                                </a>
                            </div>
                        </div>
                        <div class="col-md-10 col-sm-9 top-menu">

                            <div class="nav-icon" onclick="o2.showMobileMenu();">
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                            </div>
                            <nav class="header-nav">
                                <ul>
                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                 alt="">
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list" onclick="event.stopPropagation();">
                                            
                                                <a href="/3.3/en/views" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                         alt="English (US)">
                                                    English (US)
                                                </a>
                                            
                                        </div>
                                    </li>

                                        <li class="nav-item" onclick="o2.toggleState(this, event);">
                                            <div class="nav-item__selected custom-select__version">
                                                 3.3
                                                <span class="caret"></span>
                                            </div>
                                            <div class="nav-item__list" onclick="event.stopPropagation();">
                                                
                                                <a href="/3.4/en/views" class="custom-select__list-item">
                                                    <span>3.4</span>
                                                </a>
                                                
                                                <a href="/3.3/en/views" class="custom-select__list-item">
                                                    <span>3.3</span>
                                                </a>
                                                
                                                <a href="/3.2/en/views" class="custom-select__list-item">
                                                    <span>3.2</span>
                                                </a>
                                                
                                                <a href="/3.1/en/views" class="custom-select__list-item">
                                                    <span>3.1</span>
                                                </a>
                                                
                                                <a href="/4.0/en/views" class="custom-select__list-item">
                                                    <span>4.0</span>
                                                </a>
                                                
                                            </div>
                                        </li>

                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list">
                                            <a href="https://phalcon.link/forum" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/blog" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/resources" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <div class="nav-item__divider"></div>
                                            <a href="https://phalcon.link/f" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/t" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/gab" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/about">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/sponsors">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/fund">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/download">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="header-nav-mobile">
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    <img class="lang-image"
                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                         alt="">
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.3/en/views">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                 alt="English (US)">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this,event)">
                                     3.3
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.4/en/views">
                                            <span>3.4</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.3/en/views">
                                            <span>3.3</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.2/en/views">
                                            <span>3.2</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.1/en/views">
                                            <span>3.1</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/4.0/en/views">
                                            <span>4.0</span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    
                                    <span class="caret"></span>
                                </div>
                                <ul style="display:none;">
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/forum" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/blog" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/resources" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/f" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/t" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/gab" target="_blank">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/about">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/sponsors">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/fund">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/download">
                                    
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div class="container-fluid article-page-wrap">
        <div class="row">
            <div>
                <div class="col-md-2 sidebar hidden-xs">
                    <div class="sidebar--spacer">&nbsp;</div>
                </div>
                <div class="m-t-md m-b-lg" id="articles">
                    <div class="article-content">
                        







                        <section class="documentation-section">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-8 col-lg-9 parse-content">
                                        <div>
                                            <a class="article-content-edit-link pull-right"
                                               href="https://crowdin.com/project/phalcon-documentation/en">
                                                
                                            </a>
                                            <br>
                                        </div>
                                        <p><a name="overview"></a></p>
<h1 id="using-views">Using Views</h1>
<p>Views represent the user interface of your application. Views are often HTML files with embedded PHP code that perform tasks related solely to the presentation of the data. Views handle the job of providing data to the web browser or other tool that is used to make requests from your application.</p>

<p><a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> and <a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> are responsible for the managing the view layer of your MVC application.</p>

<p><a name="integrating-views-with-controllers"></a></p>
<h2 id="integrating-views-with-controllers">Integrating Views with Controllers</h2>
<p>Phalcon automatically passes the execution to the view component as soon as a particular controller has completed its cycle. The view component will look in the views folder for a folder named as the same name of the last controller executed and then for a file named as the last action executed. For instance, if a request is made to the URL <em>http://127.0.0.1/blog/posts/show/301</em>, Phalcon will parse the URL as follows:</p>

<table>
  <thead>
    <tr>
      <th>Server Address</th>
      <th>127.0.0.1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Phalcon Directory</td>
      <td>blog</td>
    </tr>
    <tr>
      <td>Controller</td>
      <td>posts</td>
    </tr>
    <tr>
      <td>Action</td>
      <td>show</td>
    </tr>
    <tr>
      <td>Parameter</td>
      <td>301</td>
    </tr>
  </tbody>
</table>

<p>The dispatcher will look for a <code>PostsController</code> and its action <code>showAction</code>. A simple controller file for this example:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function indexAction()
    {

    }

    public function showAction($postId)
    {
        // Pass the $postId parameter to the view
        $this-&gt;view-&gt;postId = $postId;
    }
}
</code></pre>

<p>The <code>setVar()</code> method allows us to create view variables on demand so that they can be used in the view template. The example above demonstrates how to pass the <code>$postId</code> parameter to the respective view template.</p>

<p><a name="hierarchical-rendering"></a></p>
<h2 id="hierarchical-rendering">Hierarchical Rendering</h2>
<p><a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> supports a hierarchy of files and is the default component for view rendering in Phalcon. This hierarchy allows for common layout points (commonly used views), as well as controller named folders defining respective view templates.</p>

<p>This component uses by default PHP itself as the template engine, therefore views should have the <code>.phtml</code> extension. If the views directory is <em>app/views</em> then view component will find automatically for these 3 view files.</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Action View</td>
      <td>app/views/posts/show.phtml</td>
      <td>This is the view related to the action. It only will be shown when the <code>show</code> action is executed.</td>
    </tr>
    <tr>
      <td>Controller Layout</td>
      <td>app/views/layouts/posts.phtml</td>
      <td>This is the view related to the controller. It only will be shown for every action executed within the controller “posts”. All the code implemented in the layout will be reused for all the actions in this controller.</td>
    </tr>
    <tr>
      <td>Main Layout</td>
      <td>app/views/index.phtml</td>
      <td>This is main action it will be shown for every controller or action executed within the application.</td>
    </tr>
  </tbody>
</table>

<p>You are not required to implement all of the files mentioned above. <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> will simply move to the next view level in the hierarchy of files. If all three view files are implemented, they will be processed as follows:</p>

<pre><code class="language-php">&lt;!-- app/views/posts/show.phtml --&gt;

&lt;h3&gt;This is show view!&lt;/h3&gt;

&lt;p&gt;I have received the parameter &lt;?php echo $postId; ?&gt;&lt;/p&gt;
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/layouts/posts.phtml --&gt;

&lt;h2&gt;This is the "posts" controller layout!&lt;/h2&gt;

&lt;?php echo $this-&gt;getContent(); ?&gt;
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/index.phtml --&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Example&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;h1&gt;This is main layout!&lt;/h1&gt;

        &lt;?php echo $this-&gt;getContent(); ?&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Note the lines where the method <code>$this-&gt;getContent()</code> was called. This method instructs <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> on where to inject the contents of the previous view executed in the hierarchy. For the example above, the output will be:</p>

<p>.. figure:: ../_static/img/views-1.png
   :align: center</p>

<p>The generated HTML by the request will be:</p>

<pre><code class="language-php">&lt;!-- app/views/index.phtml --&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Example&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;h1&gt;This is main layout!&lt;/h1&gt;

        &lt;!-- app/views/layouts/posts.phtml --&gt;

        &lt;h2&gt;This is the "posts" controller layout!&lt;/h2&gt;

        &lt;!-- app/views/posts/show.phtml --&gt;

        &lt;h3&gt;This is show view!&lt;/h3&gt;

        &lt;p&gt;I have received the parameter 101&lt;/p&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><a name="using-templates"></a></p>
<h3 id="using-templates">Using Templates</h3>
<p>Templates are views that can be used to share common view code. They act as controller layouts, so you need to place them in the layouts directory.</p>

<p>Templates can be rendered before the layout (using <code>$this-&gt;view-&gt;setTemplateBefore()</code>) or they can be rendered after the layout (using <code>this-&gt;view-&gt;setTemplateAfter()</code>). In the following example the template (<code>layouts/common.phtml</code>) is rendered after the main layout (<code>layouts/posts.phtml</code>):</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function initialize()
    {
        $this-&gt;view-&gt;setTemplateAfter('common');
    }

    public function lastAction()
    {
        $this-&gt;flash-&gt;notice(
            'These are the latest posts'
        );
    }
}
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/index.phtml --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Blog's title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;?php echo $this-&gt;getContent(); ?&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/layouts/common.phtml --&gt;

&lt;ul class='menu'&gt;
    &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/articles'&gt;Articles&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/contact'&gt;Contact us&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class='content'&gt;&lt;?php echo $this-&gt;getContent(); ?&gt;&lt;/div&gt;
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/layouts/posts.phtml --&gt;

&lt;h1&gt;Blog Title&lt;/h1&gt;

&lt;?php echo $this-&gt;getContent(); ?&gt;
</code></pre>

<pre><code class="language-php">&lt;!-- app/views/posts/last.phtml --&gt;

&lt;article&gt;
    &lt;h2&gt;This is a title&lt;/h2&gt;
    &lt;p&gt;This is the post content&lt;/p&gt;
&lt;/article&gt;

&lt;article&gt;
    &lt;h2&gt;This is another title&lt;/h2&gt;
    &lt;p&gt;This is another post content&lt;/p&gt;
&lt;/article&gt;
</code></pre>

<p>The final output will be the following:</p>

<pre><code class="language-php">&lt;!-- app/views/index.phtml --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Blog's title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;!-- app/views/layouts/common.phtml --&gt;

        &lt;ul class='menu'&gt;
            &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href='/articles'&gt;Articles&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href='/contact'&gt;Contact us&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;

        &lt;div class='content'&gt;

            &lt;!-- app/views/layouts/posts.phtml --&gt;

            &lt;h1&gt;Blog Title&lt;/h1&gt;

            &lt;!-- app/views/posts/last.phtml --&gt;

            &lt;article&gt;
                &lt;h2&gt;This is a title&lt;/h2&gt;
                &lt;p&gt;This is the post content&lt;/p&gt;
            &lt;/article&gt;

            &lt;article&gt;
                &lt;h2&gt;This is another title&lt;/h2&gt;
                &lt;p&gt;This is another post content&lt;/p&gt;
            &lt;/article&gt;

        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>If we had used <code>$this-&gt;view-&gt;setTemplateBefore('common')</code>, this would be the final output:</p>

<pre><code class="language-php">&lt;!-- app/views/index.phtml --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Blog's title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;!-- app/views/layouts/posts.phtml --&gt;

        &lt;h1&gt;Blog Title&lt;/h1&gt;

        &lt;!-- app/views/layouts/common.phtml --&gt;

        &lt;ul class='menu'&gt;
            &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href='/articles'&gt;Articles&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href='/contact'&gt;Contact us&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;

        &lt;div class='content'&gt;

            &lt;!-- app/views/posts/last.phtml --&gt;

            &lt;article&gt;
                &lt;h2&gt;This is a title&lt;/h2&gt;
                &lt;p&gt;This is the post content&lt;/p&gt;
            &lt;/article&gt;

            &lt;article&gt;
                &lt;h2&gt;This is another title&lt;/h2&gt;
                &lt;p&gt;This is another post content&lt;/p&gt;
            &lt;/article&gt;

        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><a name="control-rendering-levels"></a></p>
<h3 id="control-rendering-levels">Control Rendering Levels</h3>
<p>As seen above, <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> supports a view hierarchy. You might need to control the level of rendering produced by the view component. The method <code>Phalcon\Mvc\View::setRenderLevel()</code> offers this functionality.</p>

<p>This method can be invoked from the controller or from a superior view layer to interfere with the rendering process.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;
use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function indexAction()
    {

    }

    public function findAction()
    {
        // This is an Ajax response so it doesn't generate any kind of view
        $this-&gt;view-&gt;setRenderLevel(
            View::LEVEL_NO_RENDER
        );

        // ...
    }

    public function showAction($postId)
    {
        // Shows only the view related to the action
        $this-&gt;view-&gt;setRenderLevel(
            View::LEVEL_ACTION_VIEW
        );
    }
}
</code></pre>

<p>The available render levels are:</p>

<table>
  <thead>
    <tr>
      <th>Class Constant</th>
      <th>Description</th>
      <th style="text-align: center">Order</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>LEVEL_NO_RENDER</code></td>
      <td>Indicates to avoid generating any kind of presentation.</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td><code>LEVEL_ACTION_VIEW</code></td>
      <td>Generates the presentation to the view associated to the action.</td>
      <td style="text-align: center">1</td>
    </tr>
    <tr>
      <td><code>LEVEL_BEFORE_TEMPLATE</code></td>
      <td>Generates presentation templates prior to the controller layout.</td>
      <td style="text-align: center">2</td>
    </tr>
    <tr>
      <td><code>LEVEL_LAYOUT</code></td>
      <td>Generates the presentation to the controller layout.</td>
      <td style="text-align: center">3</td>
    </tr>
    <tr>
      <td><code>LEVEL_AFTER_TEMPLATE</code></td>
      <td>Generates the presentation to the templates after the controller layout.</td>
      <td style="text-align: center">4</td>
    </tr>
    <tr>
      <td><code>LEVEL_MAIN_LAYOUT</code></td>
      <td>Generates the presentation to the main layout. File views/index.phtml</td>
      <td style="text-align: center">5</td>
    </tr>
  </tbody>
</table>

<p><a name="disabling-render-levels"></a></p>
<h3 id="disabling-render-levels">Disabling render levels</h3>
<p>You can permanently or temporarily disable render levels. A level could be permanently disabled if it isn’t used at all in the whole application:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;

$di-&gt;set(
    'view',
    function () {
        $view = new View();

        // Disable several levels
        $view-&gt;disableLevel(
            [
                View::LEVEL_LAYOUT      =&gt; true,
                View::LEVEL_MAIN_LAYOUT =&gt; true,
            ]
        );

        return $view;
    },
    true
);
</code></pre>

<p>Or disable temporarily in some part of the application:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;
use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function indexAction()
    {

    }

    public function findAction()
    {
        $this-&gt;view-&gt;disableLevel(
            View::LEVEL_MAIN_LAYOUT
        );
    }
}
</code></pre>

<p><a name="picking-views"></a></p>
<h3 id="picking-views">Picking Views</h3>
<p>As mentioned above, when <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> is managed by <a href="api/Phalcon_Mvc_Application">Phalcon\Mvc\Application</a> the view rendered is the one related with the last controller and action executed. You could override this by using the <code>Phalcon\Mvc\View::pick()</code> method:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class ProductsController extends Controller
{
    public function listAction()
    {
        // Pick 'views-dir/products/search' as view to render
        $this-&gt;view-&gt;pick('products/search');

        // Pick 'views-dir/books/list' as view to render
        $this-&gt;view-&gt;pick(
            [
                'books',
            ]
        );

        // Pick 'views-dir/products/search' as view to render
        $this-&gt;view-&gt;pick(
            [
                1 =&gt; 'search',
            ]
        );
    }
}
</code></pre>

<p><a name="disabling-view"></a></p>
<h3 id="disabling-the-view">Disabling the view</h3>
<p>If your controller does not produce any output in the view (or not even have one) you may disable the view component avoiding unnecessary processing:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class UsersController extends Controller
{
    public function closeSessionAction()
    {
        // Close session
        // ...

        // Disable the view to avoid rendering
        $this-&gt;view-&gt;disable();
    }
}
</code></pre>

<p>Alternatively, you can return <code>false</code> to produce the same effect:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class UsersController extends Controller
{
    public function closeSessionAction()
    {
        // ...

        // Disable the view to avoid rendering
        return false;
    }
}
</code></pre>

<p>You can return a <code>response</code> object to avoid disable the view manually:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class UsersController extends Controller
{
    public function closeSessionAction()
    {
        // Close session
        // ...

        // A HTTP Redirect
        return $this-&gt;response-&gt;redirect('index/index');
    }
}
</code></pre>

<p><a name="simple-rendering"></a></p>
<h2 id="simple-rendering">Simple Rendering</h2>
<p><a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> is an alternative component to <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a>. It keeps most of the philosophy of <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> but lacks of a hierarchy of files which is, in fact, the main feature of its counterpart.</p>

<p>This component allows the developer to have control of when a view is rendered and its location. In addition, this component can leverage of view inheritance available in template engines such as <code>Volt</code> and others.</p>

<p>The default component must be replaced in the service container:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View\Simple as SimpleView;

$di-&gt;set(
    'view',
    function () {
        $view = new SimpleView();

        $view-&gt;setViewsDir('../app/views/');

        return $view;
    },
    true
);
</code></pre>

<p>Automatic rendering must be disabled in <a href="api/Phalcon_Mvc_Application">Phalcon\Mvc\Application</a> (if needed):</p>

<pre><code class="language-php">&lt;?php

use Exception;
use Phalcon\Mvc\Application;

try {
    $application = new Application($di);

    $application-&gt;useImplicitView(false);

    $response = $application-&gt;handle();

    $response-&gt;send();
} catch (Exception $e) {
    echo $e-&gt;getMessage();
}
</code></pre>

<p>To render a view it’s necessary to call the render method explicitly indicating the relative path to the view you want to display:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function indexAction()
    {
        // Render 'views-dir/index.phtml'
        echo $this-&gt;view-&gt;render('index');

        // Render 'views-dir/posts/show.phtml'
        echo $this-&gt;view-&gt;render('posts/show');

        // Render 'views-dir/index.phtml' passing variables
        echo $this-&gt;view-&gt;render(
            'index',
            [
                'posts' =&gt; Posts::find(),
            ]
        );

        // Render 'views-dir/posts/show.phtml' passing variables
        echo $this-&gt;view-&gt;render(
            'posts/show',
            [
                'posts' =&gt; Posts::find(),
            ]
        );
    }
}
</code></pre>

<p>This is different to <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> who’s <code>render()</code> method uses controllers and actions as parameters:</p>

<pre><code class="language-php">&lt;?php

$params = [
    'posts' =&gt; Posts::find(),
];

// Phalcon\Mvc\View
$view = new \Phalcon\Mvc\View();
echo $view-&gt;render('posts', 'show', $params);

// Phalcon\Mvc\View\Simple
$simpleView = new \Phalcon\Mvc\View\Simple();
echo $simpleView-&gt;render('posts/show', $params);
</code></pre>

<p><a name="using-partials"></a></p>
<h2 id="using-partials">Using Partials</h2>
<p>Partial templates are another way of breaking the rendering process into simpler more manageable chunks that can be reused by different parts of the application. With a partial, you can move the code for rendering a particular piece of a response to its own file.</p>

<p>One way to use partials is to treat them as the equivalent of subroutines: as a way to move details out of a view so that your code can be more easily understood. For example, you might have a view that looks like this:</p>

<pre><code class="language-php">&lt;div class='top'&gt;&lt;?php $this-&gt;partial('shared/ad_banner'); ?&gt;&lt;/div&gt;

&lt;div class='content'&gt;
    &lt;h1&gt;Robots&lt;/h1&gt;

    &lt;p&gt;Check out our specials for robots:&lt;/p&gt;
    ...
&lt;/div&gt;

&lt;div class='footer'&gt;&lt;?php $this-&gt;partial('shared/footer'); ?&gt;&lt;/div&gt;
</code></pre>

<p>The <code>partial()</code> method does accept a second parameter as an array of variables/parameters that only will exists in the scope of the partial:</p>

<pre><code class="language-php">&lt;?php $this-&gt;partial('shared/ad_banner', ['id' =&gt; $site-&gt;id, 'size' =&gt; 'big']); ?&gt;
</code></pre>

<p><a name="value-transfer"></a></p>
<h2 id="transfer-values-from-the-controller-to-views">Transfer values from the controller to views</h2>
<p><a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> is available in each controller using the view variable (<code>$this-&gt;view</code>). You can use that object to set variables directly to the view from a controller action by using the <code>setVar()</code> method.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function indexAction()
    {

    }

    public function showAction()
    {
        $user  = Users::findFirst();
        $posts = $user-&gt;getPosts();

        // Pass all the username and the posts to the views
        $this-&gt;view-&gt;setVar('username', $user-&gt;username);
        $this-&gt;view-&gt;setVar('posts', $posts);

        // Using the magic setter
        $this-&gt;view-&gt;username = $user-&gt;username;
        $this-&gt;view-&gt;posts    = $posts;

        // Passing more than one variable at the same time
        $this-&gt;view-&gt;setVars(
            [
                'username' =&gt; $user-&gt;username,
                'posts'    =&gt; $posts,
            ]
        );
    }
}
</code></pre>

<p>A variable with the name of the first parameter of <code>setVar()</code> will be created in the view, ready to be used. The variable can be of any type, from a simple string, integer etc. variable to a more complex structure such as array, collection etc.</p>

<pre><code class="language-php">&lt;h1&gt;
    's Posts
&lt;/h1&gt;

&lt;div class='post'&gt;
&lt;?php

    foreach ($posts as $post) {
        echo '&lt;h2&gt;', $post-&gt;title, '&lt;/h2&gt;';
    }

?&gt;
&lt;/div&gt;
</code></pre>

<p><a name="caching-fragments"></a></p>
<h2 id="caching-view-fragments">Caching View Fragments</h2>
<p>Sometimes when you develop dynamic websites and some areas of them are not updated very often, the output is exactly the same between requests. <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> offers caching a part or the whole rendered output to increase performance.</p>

<p><a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> integrates with <code>Phalcon\Cache</code> to provide an easier way to cache output fragments. You could manually set the cache handler or set a global handler:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function showAction()
    {
        // Cache the view using the default settings
        $this-&gt;view-&gt;cache(true);
    }

    public function showArticleAction()
    {
        // Cache this view for 1 hour
        $this-&gt;view-&gt;cache(
            [
                'lifetime' =&gt; 3600,
            ]
        );
    }

    public function resumeAction()
    {
        // Cache this view for 1 day with the key 'resume-cache'
        $this-&gt;view-&gt;cache(
            [
                'lifetime' =&gt; 86400,
                'key'      =&gt; 'resume-cache',
            ]
        );
    }

    public function downloadAction()
    {
        // Passing a custom service
        $this-&gt;view-&gt;cache(
            [
                'service'  =&gt; 'myCache',
                'lifetime' =&gt; 86400,
                'key'      =&gt; 'resume-cache',
            ]
        );
    }
}
</code></pre>

<p>When we do not define a key to the cache, the component automatically creates one using an <a href="http://php.net/manual/en/function.md5.php">MD5</a> hash of the name of the controller and view currently being rendered in the format of <code>controller/view</code>. It is a good practice to define a key for each action so you can easily identify the cache associated with each view.</p>

<p>When the View component needs to cache something it will request a cache service from the services container. The service name convention for this service is <code>viewCache</code>:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Cache\Frontend\Output as OutputFrontend;
use Phalcon\Cache\Backend\Memcache as MemcacheBackend;

// Set the views cache service
$di-&gt;set(
    'viewCache',
    function () {
        // Cache data for one day by default
        $frontCache = new OutputFrontend(
            [
                'lifetime' =&gt; 86400,
            ]
        );

        // Memcached connection settings
        $cache = new MemcacheBackend(
            $frontCache,
            [
                'host' =&gt; 'localhost',
                'port' =&gt; '11211',
            ]
        );

        return $cache;
    }
);
</code></pre>

<h5 class="alert alert-warning">The frontend must always be <a href="api/Phalcon_Cache_Frontend_Output">Phalcon\Cache\Frontend\Output</a> and the service <code>viewCache</code> must be registered as always open (not shared) in the services container (DI). </h5>

<p>When using views, caching can be used to prevent controllers from needing to generate view data on each request.</p>

<p>To achieve this we must identify uniquely each cache with a key. First we verify that the cache does not exist or has expired to make the calculations/queries to display data in the view:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class DownloadController extends Controller
{
    public function indexAction()
    {
        // Check whether the cache with key 'downloads' exists or has expired
        if ($this-&gt;view-&gt;getCache()-&gt;exists('downloads')) {
            // Query the latest downloads
            $latest = Downloads::find(
                [
                    'order' =&gt; 'created_at DESC',
                ]
            );

            $this-&gt;view-&gt;latest = $latest;
        }

        // Enable the cache with the same key 'downloads'
        $this-&gt;view-&gt;cache(
            [
                'key' =&gt; 'downloads',
            ]
        );
    }
}
</code></pre>

<p>The <a href="https://github.com/phalcon/php-site">PHP alternative site</a> is an example of implementing the caching of fragments.</p>

<p><a name="template-engines"></a></p>
<h2 id="template-engines">Template Engines</h2>
<p>Template Engines help designers to create views without the use of a complicated syntax. Phalcon includes a powerful and fast templating engine called <code>Volt</code>. <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> allows you to use other template engines instead of plain PHP or Volt.</p>

<p>Using a different template engine, usually requires complex text parsing using external PHP libraries in order to generate the final output for the user. This usually increases the number of resources that your application will use.</p>

<p>If an external template engine is used, <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> provides exactly the same view hierarchy and it’s still possible to access the API inside these templates with a little more effort.</p>

<p>This component uses adapters, these help Phalcon to speak with those external template engines in a unified way, let’s see how to do that integration.</p>

<p><a name="custom-template-engine"></a></p>
<h3 id="creating-your-own-template-engine-adapter">Creating your own Template Engine Adapter</h3>
<p>There are many template engines, which you might want to integrate or create one of your own. The first step to start using an external template engine is create an adapter for it.</p>

<p>A template engine adapter is a class that acts as bridge between <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> and the template engine itself. Usually it only needs two methods implemented: <code>__construct()</code> and <code>render()</code>. The first one receives the <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> instance that creates the engine adapter and the DI container used by the application.</p>

<p>The method <code>render()</code> accepts an absolute path to the view file and the view parameters set using <code>$this-&gt;view-&gt;setVar()</code>. You could read or require it when it’s necessary.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\DiInterface;
use Phalcon\Mvc\Engine;

class MyTemplateAdapter extends Engine
{
    /**
     * Adapter constructor
     *
     * @param \Phalcon\Mvc\View $view
     * @param \Phalcon\Di $di
     */
    public function __construct($view, DiInterface $di)
    {
        // Initialize here the adapter
        parent::__construct($view, $di);
    }

    /**
     * Renders a view using the template engine
     *
     * @param string $path
     * @param array $params
     */
    public function render($path, $params)
    {
        // Access view
        $view = $this-&gt;_view;

        // Access options
        $options = $this-&gt;_options;

        // Render the view
        // ...
    }
}
</code></pre>

<p><a name="changing-template-engine"></a></p>
<h3 id="changing-the-template-engine">Changing the Template Engine</h3>
<p>You can replace the template engine completely or use more than one template engine at the same time. The method <code>Phalcon\Mvc\View::registerEngines()</code> accepts an array containing data that define the template engines. The key of each engine is an extension that aids in distinguishing one from another. Template files related to the particular engine must have those extensions.</p>

<p>The order that the template engines are defined with <code>Phalcon\Mvc\View::registerEngines()</code> defines the relevance of execution. If <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> finds two views with the same name but different extensions, it will only render the first one.</p>

<p>If you want to register a template engine or a set of them for each request in the application. You could register it when the view service is created:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;

// Setting up the view component
$di-&gt;set(
    'view',
    function () {
        $view = new View();

        // A trailing directory separator is required
        $view-&gt;setViewsDir('../app/views/');

        // Set the engine
        $view-&gt;registerEngines(
            [
                '.my-html' =&gt; 'MyTemplateAdapter',
            ]
        );

        // Using more than one template engine
        $view-&gt;registerEngines(
            [
                '.my-html' =&gt; 'MyTemplateAdapter',
                '.phtml'   =&gt; 'Phalcon\Mvc\View\Engine\Php',
            ]
        );

        return $view;
    },
    true
);
</code></pre>

<p>There are adapters available for several template engines on the <a href="https://github.com/phalcon/incubator/tree/master/Library/Phalcon/Mvc/View/Engine">Phalcon Incubator</a></p>

<p><a name="injecting-services"></a></p>
<h2 id="injecting-services-in-view">Injecting services in View</h2>
<p>Every view executed is included inside a <a href="api/Phalcon_Di_Injectable">Phalcon\Di\Injectable</a> instance, providing easy access to the application’s service container.</p>

<p>The following example shows how to write a jQuery <a href="http://api.jquery.com/jQuery.ajax/">ajax request</a> using a URL with the framework conventions. The service <code>url</code> (usually <a href="api/Phalcon_Mvc_Url">Phalcon\Mvc\Url</a>) is injected in the view by accessing a property with the same name:</p>

<pre><code class="language-js">&lt;script type='text/javascript'&gt;

$.ajax({
    url: '&lt;?php echo $this-&gt;url-&gt;get('cities/get'); ?&gt;'
})
.done(function () {
    alert('Done!');
});

&lt;/script&gt;
</code></pre>

<p><a name="stand-alone"></a></p>
<h2 id="stand-alone-component">Stand-Alone Component</h2>
<p>All the components in Phalcon can be used as <em>glue</em> components individually because they are loosely coupled to each other:</p>

<p><a name="stand-alone-hierarchical-rendering"></a></p>
<h3 id="hierarchical-rendering-1">Hierarchical Rendering</h3>
<p>Using <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> in a stand-alone mode can be demonstrated below:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;

$view = new View();

// A trailing directory separator is required
$view-&gt;setViewsDir('../app/views/');

// Passing variables to the views, these will be created as local variables
$view-&gt;setVar('someProducts', $products);
$view-&gt;setVar('someFeatureEnabled', true);

// Start the output buffering
$view-&gt;start();

// Render all the view hierarchy related to the view products/list.phtml
$view-&gt;render('products', 'list');

// Finish the output buffering
$view-&gt;finish();

echo $view-&gt;getContent();
</code></pre>

<p>A short syntax is also available:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;

$view = new View();

echo $view-&gt;getRender(
    'products',
    'list',
    [
        'someProducts'       =&gt; $products,
        'someFeatureEnabled' =&gt; true,
    ],
    function ($view) {
        // Set any extra options here

        $view-&gt;setViewsDir('../app/views/');

        $view-&gt;setRenderLevel(
            View::LEVEL_LAYOUT
        );
    }
);
</code></pre>

<p><a name="stand-alone-simple-rendering"></a></p>
<h3 id="simple-rendering-1">Simple Rendering</h3>
<p>Using <a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> in a stand-alone mode can be demonstrated below:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View\Simple as SimpleView;

$view = new SimpleView();

// A trailing directory separator is required
$view-&gt;setViewsDir('../app/views/');

// Render a view and return its contents as a string
echo $view-&gt;render('templates/welcomeMail');

// Render a view passing parameters
echo $view-&gt;render(
    'templates/welcomeMail',
    [
        'email'   =&gt; $email,
        'content' =&gt; $content,
    ]
);
</code></pre>

<p><a name="events"></a></p>
<h2 id="view-events">View Events</h2>
<p><a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> and <a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> are able to send events to an <code>EventsManager</code> if it is present. Events are triggered using the type <code>view</code>. Some events when returning boolean false could stop the active operation. The following events are supported:</p>

<table>
  <thead>
    <tr>
      <th>Event Name</th>
      <th>Triggered</th>
      <th style="text-align: center">Can stop operation?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>beforeRender</td>
      <td>Triggered before starting the render process</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>beforeRenderView</td>
      <td>Triggered before rendering an existing view</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>afterRenderView</td>
      <td>Triggered after rendering an existing view</td>
      <td style="text-align: center">No</td>
    </tr>
    <tr>
      <td>afterRender</td>
      <td>Triggered after completing the render process</td>
      <td style="text-align: center">No</td>
    </tr>
    <tr>
      <td>notFoundView</td>
      <td>Triggered when a view was not found</td>
      <td style="text-align: center">No</td>
    </tr>
  </tbody>
</table>

<p>The following example demonstrates how to attach listeners to this component:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;
use Phalcon\Events\Manager as EventsManager;
use Phalcon\Mvc\View;

$di-&gt;set(
    'view',
    function () {
        // Create an events manager
        $eventsManager = new EventsManager();

        // Attach a listener for type 'view'
        $eventsManager-&gt;attach(
            'view',
            function (Event $event, $view) {
                echo $event-&gt;getType(), ' - ', $view-&gt;getActiveRenderPath(), PHP_EOL;
            }
        );

        $view = new View();

        $view-&gt;setViewsDir('../app/views/');

        // Bind the eventsManager to the view component
        $view-&gt;setEventsManager($eventsManager);

        return $view;
    },
    true
);
</code></pre>

<p>The following example shows how to create a plugin that cleans/repair the HTML produced by the render process using <a href="http://www.php.net/manual/en/book.tidy.php">Tidy</a>:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;

class TidyPlugin
{
    public function afterRender(Event $event, $view)
    {
        $tidyConfig = [
            'clean'          =&gt; true,
            'output-xhtml'   =&gt; true,
            'show-body-only' =&gt; true,
            'wrap'           =&gt; 0,
        ];

        $tidy = tidy_parse_string(
            $view-&gt;getContent(),
            $tidyConfig,
            'UTF8'
        );

        $tidy-&gt;cleanRepair();

        $view-&gt;setContent(
            (string) $tidy
        );
    }
}

// Attach the plugin as a listener
$eventsManager-&gt;attach(
    'view:afterRender',
    new TidyPlugin()
);
</code></pre>

                                    </div>
                                    <div class="col-md-4 col-lg-3 col-sm-12 support-column-margin">
                                        <div class="topic-search">
    <form class="bd-search d-flex align-items-center">
        <input type="search"
               class="form-control"
               id="docs-search"
               placeholder=""
               aria-label=""
               autocomplete="off"
               data-siteurl="https://phalcon-docs4.netlify.com"
               data-docs-version="3.3">
        <button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3"
                type="button"
                data-toggle="collapse"
                data-target="#bd-docs-nav"
                aria-controls="bd-docs-nav"
                aria-expanded="false"
                aria-label="Toggle docs navigation">
            <svg xmlns="http://www.w3.org/2000/svg"
                 viewbox="0 0 30 30"
                 width="30"
                 height="30"
                 focusable="false">
                <title>Menu</title>
                <path stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-miterlimit="10"
                      d="M4 7h22M4 15h22M4 23h22"></path>
            </svg>
        </button>
    </form>
</div>
                                        <div class="topic-categories">
    
</div>

                                        <div class="article-menu">
    <ul>
        
        
    </ul>
</div>
                                    </div>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
            </div>
        </div>
    </div>

<footer>
    <div class="container">
        <div class="footer-wrapper clearfix">

            <div class="footer-link-container">
                <a class="footer-link" href="/">
                    <img class="footer-logo-img" src="/assets/images/footer_logo.svg" alt="logo">
                </a>
                <a class="footer-link" href="https://phalcon.link/about" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/sponsors" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/fund" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/download" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://license.phalconphp.com/" target="_blank">
                     New BSD
                </a>
            </div>

            <div class="footer-copyright">
                <a href="https://odva.pro/" target="_blank" class="o2-link">
                    <span></span> <img src="/assets/images/logo-o2.svg" alt="logo o2">
                </a>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/assets/js/main.min.js?v1547266080100021829"></script>
<script type="text/javascript" src="/assets/js/highlight/highlight.pack.js?v1547266080100021829"></script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
</body>
</html>

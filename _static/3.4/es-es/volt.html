<!doctype html>
<!--[if IE 8]>
<html lang="es-es" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="es-es" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="es-es" class="no-js">
<!--<![endif]-->








    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <script type="text/javascript" src="/assets/js/viewport-min-width.js?v1547266080100021829"></script>
        <meta name="description"
              content="Official Phalcon Documentation">
        <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework, php extension, next generation framework, docs, documentation">
        <meta name="author" href="/humans.txt">
        <meta name="generator" content="Phalcon Team - Jekyll - Netlify">

        <link href="https://phalcon-docs4.netlify.com/3.4/es-es/volt.html" rel="canonical">
        <title>Phalcon Framework Documentation</title>

        <!-- Twitter -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@zephirlang">
        <meta name="twitter:creator" content="@zephirlang">
        <meta name="twitter:title" content="Phalcon Framework Documentation">
        <meta name="twitter:description" content="Official Phalcon Documentation">
        <meta name="twitter:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <!-- Facebook -->
        <meta property="og:url" content="https://phalcon-docs4.netlify.com">
        <meta property="og:title" content="Phalcon Framework Documentation">
        <meta property="og:description" content="Official Phalcon Documentation">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <meta name="msapplication-TileColor" content="#FFFFFF">
        <meta name="msapplication-square70x70logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-70x70.png">
        <meta name="msapplication-TileImage"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-144x144.png">
        <meta name="msapplication-square150x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-150x150.png">
        <meta name="msapplication-wide310x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x150.png">
        <meta name="msapplication-square310x310logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x310.png">

        <link rel="apple-touch-icon"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon.png">

        <link rel="apple-touch-icon-precomposed"
              sizes="57x57"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="60x60"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="72x72"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="76x76"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="114x114"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="120x120"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="144x144"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="152x152"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-152x152.png">

        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-16x16.png">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-32x32.png">
        <link rel="icon"
              type="image/png"
              sizes="96x96"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-96x96.png">
        <link rel="icon"
              type="image/png"
              sizes="128x128"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-128x128.png">
        <link rel="icon"
              type="image/png"
              sizes="196x196"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-196x196.png">
        <link rel="shortcut icon"
              type="image/png"
              href="https://assets.phalconphp.com/phalcon/favicon.ico"/>

        <link rel="alternate"
              type="application/rss+xml"
              title=" - "
              href="https://phalcon-docs4.netlify.com/feed.xml">

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="
              crossorigin="anonymous" />
        <link rel="stylesheet" href="/assets/css/monokai.css?v1547266080100021829" />
        <link rel="stylesheet" href="/assets/css/style.css?v1547266080100021829" />

        <script defer src="https://use.fontawesome.com/releases/v5.6.1/js/all.js"
                integrity="sha384-R5JkiUweZpJjELPWqttAYmYM1P3SNEJRM6ecTQF05pFFtxmCO+Y1CiUhvuDzgSVZ"
                crossorigin="anonymous"></script>
        
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90300500-6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90300500-6');
    </script>

    </head>


<body onclick="o2.allNavSlideUp()">
    <header class="header-image-doc">
        <div class="container">
            <div class="header-wrapper">
                <div class="clearfix">
                    <div class="row">
                        <div class="col-md-2 col-sm-3  col-xs-8">
                            <div class="header-image__logo-wrapper">
                                <a href="/3.4/es-es">
                                    <img class="logo-img" src="/assets/images/header_logo.svg" alt="logo">
                                </a>
                            </div>
                        </div>
                        <div class="col-md-10 col-sm-9 top-menu">

                            <div class="nav-icon" onclick="o2.showMobileMenu();">
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                            </div>
                            <nav class="header-nav">
                                <ul>
                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                 alt="">
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list" onclick="event.stopPropagation();">
                                            
                                                <a href="/3.4/en/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                         alt="English (US)">
                                                    English (US)
                                                </a>
                                            
                                                <a href="/3.4/cs-cz/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                         alt="Czech">
                                                    Czech
                                                </a>
                                            
                                                <a href="/3.4/de-de/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                         alt="German">
                                                    German
                                                </a>
                                            
                                                <a href="/3.4/es-es/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                         alt="Spanish">
                                                    Spanish
                                                </a>
                                            
                                                <a href="/3.4/fa-ir/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                         alt="Persian">
                                                    Persian
                                                </a>
                                            
                                                <a href="/3.4/fr-fr/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                         alt="French">
                                                    French
                                                </a>
                                            
                                                <a href="/3.4/id-id/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                         alt="Indonesian">
                                                    Indonesian
                                                </a>
                                            
                                                <a href="/3.4/it-it/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                         alt="Italian">
                                                    Italian
                                                </a>
                                            
                                                <a href="/3.4/ja-jp/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                         alt="Japanese">
                                                    Japanese
                                                </a>
                                            
                                                <a href="/3.4/pl-pl/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                         alt="Polish">
                                                    Polish
                                                </a>
                                            
                                                <a href="/3.4/ru-ru/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                         alt="Russian">
                                                    Russian
                                                </a>
                                            
                                                <a href="/3.4/tr-tr/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                         alt="Turkish">
                                                    Turkish
                                                </a>
                                            
                                                <a href="/3.4/uk-ua/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                         alt="Ukrainian">
                                                    Ukrainian
                                                </a>
                                            
                                                <a href="/3.4/zh-cn/volt" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                         alt="Chinese Simplified">
                                                    Chinese Simplified
                                                </a>
                                            
                                        </div>
                                    </li>

                                        <li class="nav-item" onclick="o2.toggleState(this, event);">
                                            <div class="nav-item__selected custom-select__version">
                                                 3.4
                                                <span class="caret"></span>
                                            </div>
                                            <div class="nav-item__list" onclick="event.stopPropagation();">
                                                
                                                <a href="/3.4/es-es/volt" class="custom-select__list-item">
                                                    <span>3.4</span>
                                                </a>
                                                
                                                <a href="/3.3/es-es/volt" class="custom-select__list-item">
                                                    <span>3.3</span>
                                                </a>
                                                
                                                <a href="/3.2/es-es/volt" class="custom-select__list-item">
                                                    <span>3.2</span>
                                                </a>
                                                
                                                <a href="/3.1/es-es/volt" class="custom-select__list-item">
                                                    <span>3.1</span>
                                                </a>
                                                
                                                <a href="/4.0/es-es/volt" class="custom-select__list-item">
                                                    <span>4.0</span>
                                                </a>
                                                
                                            </div>
                                        </li>

                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list">
                                            <a href="https://phalcon.link/forum" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/blog" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/resources" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <div class="nav-item__divider"></div>
                                            <a href="https://phalcon.link/f" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/t" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/gab" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/about">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/sponsors">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/fund">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/download">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="header-nav-mobile">
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    <img class="lang-image"
                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                         alt="">
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/en/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                 alt="English (US)">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/cs-cz/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                 alt="Czech">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/de-de/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                 alt="German">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/es-es/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                 alt="Spanish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fa-ir/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                 alt="Persian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fr-fr/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                 alt="French">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/id-id/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                 alt="Indonesian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/it-it/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                 alt="Italian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ja-jp/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                 alt="Japanese">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/pl-pl/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                 alt="Polish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ru-ru/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                 alt="Russian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/tr-tr/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                 alt="Turkish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/uk-ua/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                 alt="Ukrainian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/zh-cn/volt">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                 alt="Chinese Simplified">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this,event)">
                                     3.4
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.4/es-es/volt">
                                            <span>3.4</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.3/es-es/volt">
                                            <span>3.3</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.2/es-es/volt">
                                            <span>3.2</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.1/es-es/volt">
                                            <span>3.1</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/4.0/es-es/volt">
                                            <span>4.0</span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    
                                    <span class="caret"></span>
                                </div>
                                <ul style="display:none;">
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/forum" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/blog" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/resources" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/f" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/t" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/gab" target="_blank">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/about">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/sponsors">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/fund">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/download">
                                    
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div class="container-fluid article-page-wrap">
        <div class="row">
            <div>
                <div class="col-md-2 sidebar hidden-xs">
                    <div class="sidebar--spacer">&nbsp;</div>
                </div>
                <div class="m-t-md m-b-lg" id="articles">
                    <div class="article-content">
                        







                        <section class="documentation-section">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-8 col-lg-9 parse-content">
                                        <div>
                                            <a class="article-content-edit-link pull-right"
                                               href="https://crowdin.com/project/phalcon-documentation/es-es">
                                                
                                            </a>
                                            <br>
                                        </div>
                                        <p><a name="overview"></a></p>

<h1 id="volt-motor-de-plantillas">Volt: Motor de plantillas</h1>

<p>Volt es un lenguaje de plantillas ultrarrápido y de diseño amigable, escrito en C para PHP. Le proporciona un conjunto de ayudantes a escribir vistas de una manera fácil. Volt están altamente integrado con otros componentes de Phalcon, del mismo modo que puede utilizarlo como componente independiente en sus aplicaciones.</p>

<p><img src="/assets/images/content/volt.jpg" alt="" /></p>

<p>Volt está inspirado en <a href="http://jinja.pocoo.org/">Jinja</a>, originalmente creado por <a href="https://github.com/mitsuhiko">Armin Ronacher</a>. Por lo tanto muchos desarrolladores estarán en territorio familiar al utilizar la misma sintaxis que han estado utilizando con motores de plantillas similares. La sintaxis y características de Volt se han mejorado con más elementos y, por supuesto, con el rendimiento que los desarrolladores están acostumbrados a trabajar en Phalcon.</p>

<p><a name="introduction"></a></p>

<h2 id="introducción">Introducción</h2>

<p>Las vistas de Volt se compilan a código PHP puro, así que, básicamente ahorran el esfuerzo de escribir el código PHP manualmente:</p>

<pre><code class="language-twig">
{# app/views/products/show.volt #}

{% block last_products %}

{% for product in products %}

    * Name: {{ product.name|e }}
    {% if product.status === 'Active' %}
       Price: {{ product.price + product.taxes/100 }}
    {% endif  %}
{% endfor  %}

{% endblock %}

</code></pre>

<p><a name="setup"></a></p>

<h2 id="activando-volt">Activando Volt</h2>

<p>Como con otros motores de plantillas, se puede registrar Volt en el componente de la vista, usando una nueva extensión o reusar el estándar <code>phtml</code>:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;
use Phalcon\Mvc\View\Engine\Volt;

// Registrar Volt como un servicio
$di-&gt;set(
    'voltService',
    function ($view, $di) {
        $volt = new Volt($view, $di);

        $volt-&gt;setOptions(
            [
                'compiledPath'      =&gt; '../app/compiled-templates/',
                'compiledExtension' =&gt; '.compiled',
            ]
        );

        return $volt;
    }
);

// Registrar Volt como motor de plantillas
$di-&gt;set(
    'view',
    function () {
        $view = new View();

        $view-&gt;setViewsDir('../app/views/');

        $view-&gt;registerEngines(
            [
                '.volt' =&gt; 'voltService',
            ]
        );

        return $view;
    }
);
</code></pre>

<p>Utilice la extensión estándar <code>phtml</code>:</p>

<pre><code class="language-php">&lt;?php

$view-&gt;registerEngines(
    [
        '.phtml' =&gt; 'voltService',
    ]
);
</code></pre>

<p>No tienes que especificar el servicio Volt en el DI; también puede utilizar el motor de Volt con la configuración predeterminada:</p>

<pre><code class="language-php">&lt;?php

$view-&gt;registerEngines(
    [
        '.volt' =&gt; Phalcon\Mvc\View\Engine\Volt::class,
    ]
);
</code></pre>

<p>Si no quieres reutilizar Volt como un servicio, puedes pasar una función anónima para registrar el motor en lugar de un nombre de servicio:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View;
use Phalcon\Mvc\View\Engine\Volt;

// Registrar Volt como motor de plantillas con una función anónima
$di-&gt;set(
    'view',
    function () {
        $view = new View();

        $view-&gt;setViewsDir('../app/views/');

        $view-&gt;registerEngines(
            [
                '.volt' =&gt; function ($view, $di) {
                    $volt = new Volt($view, $di);

                    // Configurar otras opciones aquí

                    return $volt;
                }
            ]
        );

        return $view;
    }
);
</code></pre>

<p>Las siguientes opciones están disponibles en Volt:</p>

<table>
  <thead>
    <tr>
      <th>Opción</th>
      <th>Descripción</th>
      <th>Predeterminado</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>autoescape</code></td>
      <td>Habilita a nivel global el autoescape de HTML</td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>compileAlways</code></td>
      <td>Volt de compilar las plantillas en cada solicitud o sólo cuando hubo un cambio en ellas</td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>compiledExtension</code></td>
      <td>Una extensión adicional anexada al archivo PHP compilado</td>
      <td><code>.php</code></td>
    </tr>
    <tr>
      <td><code>compiledPath</code></td>
      <td>Un ruta con permisos de escritura donde se puede almacenar las plantillas PHP compiladas</td>
      <td><code>./</code></td>
    </tr>
    <tr>
      <td><code>compiledSeparator</code></td>
      <td>Volt reemplaza los separadores de directorio / y \ por este separador con el fin de crear un único archivo en el directorio compilado</td>
      <td><code>%%</code></td>
    </tr>
    <tr>
      <td><code>prefix</code></td>
      <td>Permite anteponer un prefijo a las plantillas en la ruta de compilación</td>
      <td><code>null</code></td>
    </tr>
    <tr>
      <td><code>stat</code></td>
      <td>Si Phalcon debe verificar si existen diferencias entre el archivo de plantilla y su ruta compilada</td>
      <td><code>true</code></td>
    </tr>
  </tbody>
</table>

<p>La ruta de compilación se genera según las opciones anteriores, si el desarrollador quiere libertad total para definir la ruta de compilación, una función anónima puede utilizarse para generarlas, esta función recibe la ruta relativa de acceso a la plantilla al directorio de las vistas. Los ejemplos siguientes muestran cómo cambiar dinámicamente la ruta de compilación:</p>

<pre><code class="language-php">&lt;?php

// Simplemente añadir la extensión .php a la ruta de la plantilla
// Dejando las plantillas compiladas en el mismo directorio
$volt-&gt;setOptions(
    [
        'compiledPath' =&gt; function ($templatePath) {
            return $templatePath . '.php';
        }
    ]
);

// Crear recursivamente la misma estructura en otro directorio
$volt-&gt;setOptions(
    [
        'compiledPath' =&gt; function ($templatePath) {
            $dirName = dirname($templatePath);

            if (!is_dir('cache/' . $dirName)) {
                mkdir('cache/' . $dirName , 0777 , true);
            }

            return 'cache/' . $dirName . '/'. $templatePath . '.php';
        }
    ]
);
</code></pre>

<p><a name="basic-usage"></a></p>

<h2 id="uso-básico">Uso básico</h2>

<p>Una vista consiste en código Volt, PHP y HTML. Un conjunto de delimitadores especiales está disponible para entrar en modo de Volt. <code>{% ... %}</code> is used to execute statements such as for-loops or assign values and <code>{{ ... }}</code>, prints the result of an expression to the template.</p>

<p>Abajo se encuentra una plantilla mínima, que muestra algunos conceptos básicos:</p>

<pre><code class="language-twig">
{# app/views/posts/show.phtml #}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;{{ title }} - An example blog&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        {% if show_navigation %}
            &lt;ul id='navigation'&gt;
                {% for item in menu %}
                    &lt;li&gt;
                        &lt;a href='{{ item.href }}'&gt;
                            {{ item.caption }}
                        &lt;/a&gt;
                    &lt;/li&gt;
                {% endfor %}
            &lt;/ul&gt;
        {% endif %}

        &lt;h1&gt;{{ post.title }}&lt;/h1&gt;

        &lt;div class='content'&gt;
            {{ post.content }}
        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;

</code></pre>

<p>Using <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> you can pass variables from the controller to the views. En el ejemplo anterior, se pasaron cuatro variables a la vista: <code>show_navigation</code>, <code>menu</code>, <code>title</code> y <code>post</code>:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class PostsController extends Controller
{
    public function showAction()
    {
        $post = Post::findFirst();
        $menu = Menu::findFirst();

        $this-&gt;view-&gt;show_navigation = true;
        $this-&gt;view-&gt;menu            = $menu;
        $this-&gt;view-&gt;title           = $post-&gt;title;
        $this-&gt;view-&gt;post            = $post;

        // O...

        $this-&gt;view-&gt;setVar('show_navigation', true);
        $this-&gt;view-&gt;setVar('menu',            $menu);
        $this-&gt;view-&gt;setVar('title',           $post-&gt;title);
        $this-&gt;view-&gt;setVar('post',            $post);
    }
}
</code></pre>

<p><a name="variables"></a></p>

<h2 id="variables">Variables</h2>

<p>Object variables may have attributes which can be accessed using the syntax: <code>foo.bar</code>. If you are passing arrays, you have to use the square bracket syntax: <code>foo['bar']</code></p>

<pre><code class="language-twig">
{{ post.title }} {# for $post-&gt;title #}
{{ post['title'] }} {# for $post['title'] #}

</code></pre>

<p><a name="filters"></a></p>

<h2 id="filtros">Filtros</h2>

<p>Variables can be formatted or modified using filters. The pipe operator <code>|</code> is used to apply filters to variables:</p>

<pre><code class="language-twig">
{{ post.title|e }}
{{ post.content|striptags }}
{{ name|capitalize|trim }}

</code></pre>

<p>La siguiente lista contiene los filtros disponibles incorporados en Volt:</p>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>abs</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.abs.php">abs</a> de PHP a un valor.</td>
    </tr>
    <tr>
      <td><code>capitalize</code></td>
      <td>Capitaliza una cadena mediante la aplicación de la función PHP <a href="http://php.net/manual/en/function.ucwords.php">ucwords</a> al valor</td>
    </tr>
    <tr>
      <td><code>convert_encoding</code></td>
      <td>Convierte una cadena de un conjunto de caracteres a otro</td>
    </tr>
    <tr>
      <td><code>default</code></td>
      <td>Establece un valor predeterminado en caso de que la expresión evaluada este vacía (no se establece o se evalúa como un valor falso)</td>
    </tr>
    <tr>
      <td><code>e</code></td>
      <td>Se aplica <code>Phalcon\Escaper-&gt;escapeHtml()</code> al valor</td>
    </tr>
    <tr>
      <td><code>escape</code></td>
      <td>Se aplica <code>Phalcon\Escaper-&gt;escapeHtml()</code> al valor</td>
    </tr>
    <tr>
      <td><code>escape_attr</code></td>
      <td>Se aplica <code>Phalcon\Escaper-&gt;escapeHtmlAttr()</code> al valor</td>
    </tr>
    <tr>
      <td><code>escape_css</code></td>
      <td>Se aplica <code>Phalcon\Escaper-&gt;escapeCss()</code> al valor</td>
    </tr>
    <tr>
      <td><code>escape_js</code></td>
      <td>Se aplica <code>Phalcon\Escaper-&gt;escapeJs()</code> al valor</td>
    </tr>
    <tr>
      <td><code>format</code></td>
      <td>Formatea una cadena utilizando <a href="http://php.net/manual/en/function.sprintf.php">sprintf</a>.</td>
    </tr>
    <tr>
      <td><code>json_encode</code></td>
      <td>Convierte un valor en su representación <a href="http://php.net/manual/en/function.json-encode.php">JSON</a></td>
    </tr>
    <tr>
      <td><code>json_decode</code></td>
      <td>Convierte un valor de su representación <a href="http://php.net/manual/en/function.json-encode.php">JSON</a> en una representación de PHP</td>
    </tr>
    <tr>
      <td><code>join</code></td>
      <td>Se unen las partes de un array usando un separador <a href="http://php.net/manual/en/function.join.php">join</a></td>
    </tr>
    <tr>
      <td><code>keys</code></td>
      <td>Devuelve las llaves de la matriz usando <a href="http://php.net/manual/en/function.array-keys.php">array_keys</a></td>
    </tr>
    <tr>
      <td><code>left_trim</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.ltrim.php">ltrim</a> PHP al valor. Quita espacios extra a la izquierda</td>
    </tr>
    <tr>
      <td><code>length</code></td>
      <td>Cuenta la longitud de la cadena de texto o cuántos elementos hay en un array u objeto</td>
    </tr>
    <tr>
      <td><code>lower</code></td>
      <td>Cambiar una cadena a minúsculas</td>
    </tr>
    <tr>
      <td><code>nl2br</code></td>
      <td>Cambia los saltos de línea <code>\n</code> por saltos de línea (<code>&lt;br /&gt;</code>). Utiliza la función de PHP <a href="http://php.net/manual/en/function.nl2br.php">nl2br</a></td>
    </tr>
    <tr>
      <td><code>right_trim</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.rtrim.php">rtrim</a> PHP al valor. Quita espacios extra a la derecha</td>
    </tr>
    <tr>
      <td><code>sort</code></td>
      <td>Ordena una matriz mediante la función PHP <a href="http://php.net/manual/en/function.asort.php">asort</a></td>
    </tr>
    <tr>
      <td><code>stripslashes</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.stripslashes.php">stripslashes</a> de PHP al valor. Quita las comillas escapadas</td>
    </tr>
    <tr>
      <td><code>striptags</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.striptags.php">striptags</a> de PHP al valor. Remueve las etiquetas HTML</td>
    </tr>
    <tr>
      <td><code>trim</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.trim.php">trim</a> de PHP al valor. Quita espacios extra a la izquierda y derecha</td>
    </tr>
    <tr>
      <td><code>upper</code></td>
      <td>Cambiar una cadena a mayúsculas</td>
    </tr>
    <tr>
      <td><code>url_encode</code></td>
      <td>Se aplica la función <a href="http://php.net/manual/en/function.urlencode.php">urlencode</a> PHP al valor</td>
    </tr>
  </tbody>
</table>

<p>Ejemplos:</p>

<pre><code class="language-twig">
{# e or escape filter #}
{{ '&lt;h1&gt;Hello&lt;h1&gt;'|e }}
{{ '&lt;h1&gt;Hello&lt;h1&gt;'|escape }}

{# trim filter #}
{{ '   hello   '|trim }}

{# striptags filter #}
{{ '&lt;h1&gt;Hello&lt;h1&gt;'|striptags }}

{# slashes filter #}
{{ ''this is a string''|slashes }}

{# stripslashes filter #}
{{ '\'this is a string\''|stripslashes }}

{# capitalize filter #}
{{ 'hello'|capitalize }}

{# lower filter #}
{{ 'HELLO'|lower }}

{# upper filter #}
{{ 'hello'|upper }}

{# length filter #}
{{ 'robots'|length }}
{{ [1, 2, 3]|length }}

{# nl2br filter #}
{{ 'some\ntext'|nl2br }}

{# sort filter #}
{% set sorted = [3, 1, 2]|sort %}

{# keys filter #}
{% set keys = ['first': 1, 'second': 2, 'third': 3]|keys %}

{# join filter #}
{% set joined = 'a'..'z'|join(',') %}

{# format filter #}
{{ 'My real name is %s'|format(name) }}

{# json_encode filter #}
{% set encoded = robots|json_encode %}

{# json_decode filter #}
{% set decoded = '{'one':1,'two':2,'three':3}'|json_decode %}

{# url_encode filter #}
{{ post.permanent_link|url_encode }}

{# convert_encoding filter #}
{{ 'désolé'|convert_encoding('utf8', 'latin1') }}

</code></pre>

<p><a name="comments"></a></p>

<h2 id="comentarios">Comentarios</h2>

<p>Comments may also be added to a template using the <code>{# ... #}</code> delimiters. All text inside them is just ignored in the final output:</p>

<pre><code class="language-twig">
{# note: this is a comment
    {% set price = 100; %}
#}

</code></pre>

<p><a name="control-structures"></a></p>

<h2 id="lista-de-estructuras-de-control">Lista de estructuras de Control</h2>

<p>Volt proporciona un conjunto de estructuras de control básicas pero de gran alcance para el uso de plantillas:</p>

<p><a name="control-structures-for"></a></p>

<h3 id="for">For</h3>

<p>Loop over each item in a sequence. The following example shows how to traverse a set of ‘robots’ and print his/her name:</p>

<pre><code class="language-twig">
&lt;h1&gt;Robots&lt;/h1&gt;
&lt;ul&gt;
    {% for robot in robots %}
        &lt;li&gt;
            {{ robot.name|e }}
        &lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;

</code></pre>

<p>Los bucles <code>for</code> también se pueden anidar:</p>

<pre><code class="language-twig">
&lt;h1&gt;Robots&lt;/h1&gt;
{% for robot in robots %}
    {% for part in robot.parts %}
        Robot: {{ robot.name|e }} Part: {{ part.name|e }} &lt;br /&gt;
    {% endfor %}
{% endfor %}

</code></pre>

<p>Usted puede conseguir las <code>claves</code> de los elementos, como la contraparte PHP, con la siguiente sintaxis:</p>

<pre><code class="language-twig">
{% set numbers = ['one': 1, 'two': 2, 'three': 3] %}

{% for name, value in numbers %}
    Name: {{ name }} Value: {{ value }}
{% endfor %}

</code></pre>

<p>Opcionalmente, se puede establecer una evaluación <code>if</code>:</p>

<pre><code class="language-twig">
{% set numbers = ['one': 1, 'two': 2, 'three': 3] %}

{% for value in numbers if value &lt; 2 %}
    Value: {{ value }}
{% endfor %}

{% for name, value in numbers if name !== 'two' %}
    Name: {{ name }} Value: {{ value }}
{% endfor %}

</code></pre>

<p>Si un <code>else</code> se define dentro del <code>for</code>, se ejecutará si la expresión en el iterador da como resultado cero iteraciones:</p>

<pre><code class="language-twig">
&lt;h1&gt;Robots&lt;/h1&gt;
{% for robot in robots %}
    Robot: {{ robot.name|e }} Part: {{ part.name|e }} &lt;br /&gt;
{% else %}
    There are no robots to show
{% endfor %}

</code></pre>

<p>Sintaxis alternativa:</p>

<pre><code class="language-twig">
&lt;h1&gt;Robots&lt;/h1&gt;
{% for robot in robots %}
    Robot: {{ robot.name|e }} Part: {{ part.name|e }} &lt;br /&gt;
{% elsefor %}
    There are no robots to show
{% endfor %}

</code></pre>

<p><a name="control-structures-loops"></a></p>

<h3 id="controles-de-bucle">Controles de bucle</h3>

<p>Las declaraciones de <code>break</code> y <code>continue</code> pueden utilizarse para salir de un bucle o forzar una iteración en el bloque actual:</p>

<pre><code class="language-twig">
{# skip the even robots #}
{% for index, robot in robots %}
    {% if index is even %}
        {% continue %}
    {% endif %}
    ...
{% endfor %}

</code></pre>

<pre><code class="language-twig">
{# exit the foreach on the first even robot #}
{% for index, robot in robots %}
    {% if index is even %}
        {% break %}
    {% endif %}
    ...
{% endfor %}

</code></pre>

<p><a name="control-structures-if"></a></p>

<h3 id="if">If</h3>

<p>Como en PHP, una declaración <code>if</code> comprueba si una expresión se evalúa como verdadera o falsa:</p>

<pre><code class="language-twig">
&lt;h1&gt;Cyborg Robots&lt;/h1&gt;
&lt;ul&gt;
    {% for robot in robots %}
        {% if robot.type === 'cyborg' %}
            &lt;li&gt;{{ robot.name|e }}&lt;/li&gt;
        {% endif %}
    {% endfor %}
&lt;/ul&gt;

</code></pre>

<p>También se admite la cláusula <code>else</code>:</p>

<pre><code class="language-twig">
&lt;h1&gt;Robots&lt;/h1&gt;
&lt;ul&gt;
    {% for robot in robots %}
        {% if robot.type === 'cyborg' %}
            &lt;li&gt;{{ robot.name|e }}&lt;/li&gt;
        {% else %}
            &lt;li&gt;{{ robot.name|e }} (not a cyborg)&lt;/li&gt;
        {% endif %}
    {% endfor %}
&lt;/ul&gt;

</code></pre>

<p>También puede utilizar la estructura de flujo de control <code>elseif</code> para emular un bloque <code>switch</code>:</p>

<pre><code class="language-twig">
{% if robot.type === 'cyborg' %}
    Robot is a cyborg
{% elseif robot.type === 'virtual' %}
    Robot is virtual
{% elseif robot.type === 'mechanical' %}
    Robot is mechanical
{% endif %}

</code></pre>

<p><a name="controls-structures-switch"></a></p>

<h3 id="switch">Switch</h3>

<p>Una alternativa a la instrucción <code>if</code> es <code>switch</code>, que le permite crear caminos de ejecución lógica en su aplicación:</p>

<pre><code class="language-twig">
{% switch foo %}
    {% case 0 %}
    {% case 1 %}
    {% case 2 %}
        "foo" is less than 3 but not negative
        {% break %}
    {% case 3 %}
        "foo" is 3
        {% break %}
    {% default %}
        "foo" is {{ foo }}
{% endswitch %}


</code></pre>

<p>La sentencia <code>switch</code> ejecuta instrucción por instrucción, por lo tanto es necesario en algunos casos la instrucción <code>break</code>. Cualquier salida (incluyendo espacios en blanco) entre una instrucción switch y el primer <code>case</code> dará lugar a un error de sintaxis. Por lo tanto pueden borrar los espacios en blanco y líneas vacías para reducir el número de errores. Para más información visite <a href="http://php.net/control-structures.alternative-syntax">sintaxis alternativa de estructuras de control</a>.</p>

<h4 id="case-sin-switch"><code>case</code> sin <code>switch</code></h4>

<pre><code class="language-twig">
{% case EXPRESSION %}

</code></pre>

<p>Lanzará un <code>Fatal error: Uncaught Phalcon\Mvc\View\Exception: Unexpected CASE</code>.</p>

<h4 id="switch-sin-endswitch"><code>switch</code> sin <code>endswitch</code></h4>

<pre><code class="language-twig">
{% switch EXPRESSION %}

Will throw `Fatal error: Uncaught Phalcon\Mvc\View\Exception: Syntax error, unexpected EOF in ..., there is a 'switch' block without 'endswitch'`.
</code></pre>

<h4 id="default-sin-switch"><code>default</code> sin <code>switch</code></h4>

<pre><code class="language-twig">
{% default %}

</code></pre>

<p>Will not throw an error because <code>default</code> is a reserved word for filters like <code>{{ EXPRESSION | default(VALUE) }}</code> but in this case the expression will only output an empty char ‘’ .</p>

<h4 id="switch-anidados"><code>switch</code> anidados</h4>

<pre><code class="language-twig">
{% switch EXPRESSION %}
  {% switch EXPRESSION %}
  {% endswitch %}
{% endswitch %}

</code></pre>

<p>Will throw <code>Fatal error: Uncaught Phalcon\Mvc\View\Exception: A nested switch detected. There is no nested switch-case statements support in ... on line ...</code></p>

<h4 id="un-switch-sin-expresión">un <code>switch</code> sin expresión</h4>

<pre><code class="language-twig">
{% switch %}
  {% case EXPRESSION %}
      {% break %}
{% endswitch %}

</code></pre>

<p>Will throw <code>Fatal error: Uncaught Phalcon\Mvc\View\Exception: Syntax error, unexpected token %} in ... on line ...</code></p>

<p><a name="control-structures-loop"></a></p>

<h3 id="contexto-de-bucle">Contexto de bucle</h3>

<p>Una variable especial está disponible dentro de los bucles <code>for</code>, proporcionando información sobre:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>loop.index</code></td>
      <td>Iteración actual del bucle. (comenzando desde 1)</td>
    </tr>
    <tr>
      <td><code>loop.index0</code></td>
      <td>Iteración actual del bucle. (comenzando desde 0)</td>
    </tr>
    <tr>
      <td><code>loop.revindex</code></td>
      <td>El número de iteraciones desde el final del bucle (comenzando desde 1)</td>
    </tr>
    <tr>
      <td><code>loop.revindex0</code></td>
      <td>El número de iteraciones desde el final del bucle (comenzando desde 0)</td>
    </tr>
    <tr>
      <td><code>loop.first</code></td>
      <td>Si es la primera iteración, el valor será <code>true</code>.</td>
    </tr>
    <tr>
      <td><code>loop.last</code></td>
      <td>Si es la última iteración, el valor será <code>true</code>.</td>
    </tr>
    <tr>
      <td><code>loop.length</code></td>
      <td>El número de elementos iterar</td>
    </tr>
  </tbody>
</table>

<p>Ejemplo:</p>

<pre><code class="language-twig">
{% for robot in robots %}
    {% if loop.first %}
        &lt;table&gt;
            &lt;tr&gt;
                &lt;th&gt;#&lt;/th&gt;
                &lt;th&gt;Id&lt;/th&gt;
                &lt;th&gt;Name&lt;/th&gt;
            &lt;/tr&gt;
    {% endif %}
            &lt;tr&gt;
                &lt;td&gt;{{ loop.index }}&lt;/td&gt;
                &lt;td&gt;{{ robot.id }}&lt;/td&gt;
                &lt;td&gt;{{ robot.name }}&lt;/td&gt;
            &lt;/tr&gt;
    {% if loop.last %}
        &lt;/table&gt;
    {% endif %}
{% endfor %}

</code></pre>

<p><a name="assignments"></a></p>

<h2 id="asignaciones">Asignaciones</h2>

<p>Variables may be changed in a template using the instruction <code>set</code>:</p>

<pre><code class="language-twig">
{% set fruits = ['Apple', 'Banana', 'Orange'] %}

{% set name = robot.name %}

</code></pre>

<p>Se permiten las asignaciones múltiples en la misma instrucción:</p>

<pre><code class="language-twig">
{% set fruits = ['Apple', 'Banana', 'Orange'], name = robot.name, active = true %}

</code></pre>

<p>Además, puede utilizar operadores de asignación compuestos:</p>

<pre><code class="language-twig">
{% set price += 100.00 %}

{% set age *= 5 %}

</code></pre>

<p>Las siguientes operadores están disponibles:</p>

<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>=</code></td>
      <td>Asignación estándar</td>
    </tr>
    <tr>
      <td><code>+=</code></td>
      <td>Asignación de adición</td>
    </tr>
    <tr>
      <td><code>-=</code></td>
      <td>Asignación de resta</td>
    </tr>
    <tr>
      <td><code>\*=</code></td>
      <td>Asignación de multiplicación</td>
    </tr>
    <tr>
      <td><code>/=</code></td>
      <td>Asignación de división</td>
    </tr>
  </tbody>
</table>

<p><a name="expressions"></a></p>

<h2 id="expresiones">Expresiones</h2>

<p>Volt proporciona un conjunto básico de expresiones, incluyendo literales y operadores comunes. A expression can be evaluated and printed using the <code>{{</code> and <code>}}</code> delimiters:</p>

<pre><code class="language-twig">
{{ (1 + 1) * 2 }}

</code></pre>

<p>Si una expresión necesita ser evaluada pero no impresa, se puede utilizar la instrucción <code>do</code>:</p>

<pre><code class="language-twig">
{% do (1 + 1) * 2 %}

</code></pre>

<p><a name="expressions-literals"></a></p>

<h3 id="literales">Literales</h3>

<p>Son soportados los siguientes literales:</p>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>'esto es una cadena'</code></td>
      <td>Los textos entre doble comillas simples o dobles se tratan como cadenas de caracteres</td>
    </tr>
    <tr>
      <td><code>100.25</code></td>
      <td>Los números con parte decimal se tratan como dobles/flotadores</td>
    </tr>
    <tr>
      <td><code>100</code></td>
      <td>Los número sin parte decimal se tratan como enteros</td>
    </tr>
    <tr>
      <td><code>false</code></td>
      <td>La constante ‘false’ es el valor booleano falso</td>
    </tr>
    <tr>
      <td><code>true</code></td>
      <td>La constante ‘true’ es el valor booleano verdadero</td>
    </tr>
    <tr>
      <td><code>null</code></td>
      <td>La constante ‘null’ es el valor Null</td>
    </tr>
  </tbody>
</table>

<p><a name="expressions-arrays"></a></p>

<h3 id="arrays">Arrays</h3>

<p>Si usas PHP 5.3 o &gt;= 5.4 puedes crear matrices adjuntando una lista de valores entre corchetes:</p>

<pre><code class="language-twig">
{# Simple array #}
{{ ['Apple', 'Banana', 'Orange'] }}

{# Other simple array #}
{{ ['Apple', 1, 2.5, false, null] }}

{# Multi-Dimensional array #}
{{ [[1, 2], [3, 4], [5, 6]] }}

{# Hash-style array #}
{{ ['first': 1, 'second': 4/2, 'third': '3'] }}

</code></pre>

<p>Las llaves también pueden usarse para definir matrices o arrays asociativos:</p>

<pre><code class="language-twig">
{% set myArray = {'Apple', 'Banana', 'Orange'} %}
{% set myHash  = {'first': 1, 'second': 4/2, 'third': '3'} %}

</code></pre>

<p><a name="expressions-math"></a></p>

<h3 id="matemáticas">Matemáticas</h3>

<p>Se pueden hacer cálculos en las plantillas mediante los siguientes operadores:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>+</code></td>
      <td>Realizar una operación de adición. <code>{{ 2 + 3 }}</code> returns 5</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>-</code></td>
      <td>Perform a substraction operation <code>{{ 2 - 3 }}</code> returns -1</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>*</code></td>
      <td>Perform a multiplication operation <code>{{ 2 * 3 }}</code> returns 6</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>/</code></td>
      <td>Perform a division operation <code>{{ 10 / 2 }}</code> returns 5</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>%</code></td>
      <td>Calculate the remainder of an integer division <code>{{ 10 % 3 }}</code> returns 1</td>
    </tr>
  </tbody>
</table>

<p><a name="expressions-comparisons"></a></p>

<h3 id="comparaciones">Comparaciones</h3>

<p>Los siguientes operadores de comparación están disponibles:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>==</code></td>
      <td>Comprobar si ambos operandos son iguales</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>!=</code></td>
      <td>Comprobar si ambos operandos no son iguales</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&lt;&gt;</code></td>
      <td>Comprobar si ambos operandos no son iguales</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&gt;</code></td>
      <td>Compruebe si el operando izquierdo es mayor que el operando derecho</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&lt;</code></td>
      <td>Compruebe si el operando izquierdo es menor que el operando derecho</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&lt;=</code></td>
      <td>Compruebe si el operando de la izquierda es menor o igual que el operando derecho</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&gt;=</code></td>
      <td>Compruebe si el operando izquierdo es mayor o igual que el operando derecho</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>===</code></td>
      <td>Compruebe si ambos operandos son idénticos</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>!==</code></td>
      <td>Comprobar si ambos operandos no son identicos</td>
    </tr>
  </tbody>
</table>

<p><a name="expressions-logic"></a></p>

<h3 id="lógica">Lógica</h3>

<p>Los operadores lógicos son útiles en la evaluación de expresiones <code>if</code> para combinar múltiples pruebas:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Operator</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>or</code></td>
      <td>Devuelve true si el operando de la derecha o la izquierda se evalúa como true</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>and</code></td>
      <td>Devuelve true si los operandos izquierdo y derecho se evalúan como verdadero</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>not</code></td>
      <td>Niega una expresión</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>( expr )</code></td>
      <td>Las expresiones se agrupan entre paréntesis</td>
    </tr>
  </tbody>
</table>

<p><a name="expressions-other-operators"></a></p>

<h3 id="otros-operadores">Otros operadores</h3>

<p>También están disponibles otros operadores:</p>

<table>
  <thead>
    <tr>
      <th>Operator</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>~</code></td>
      <td>Concatenates both operands <code>{{ 'hello ' ~ 'world' }}</code></td>
    </tr>
    <tr>
      <td><code>|</code></td>
      <td>Applies a filter in the right operand to the left <code>{{ 'hello'|uppercase }}</code></td>
    </tr>
    <tr>
      <td><code>..</code></td>
      <td>Creates a range <code>{{ 'a'..'z' }}</code> <code>{{ 1..10 }}</code></td>
    </tr>
    <tr>
      <td><code>is</code></td>
      <td>Alias de == (igual), también realiza pruebas</td>
    </tr>
    <tr>
      <td><code>in</code></td>
      <td>Para comprobar si una expresión está contenida en otras expresiones <code>if 'a' in 'abc'</code></td>
    </tr>
    <tr>
      <td><code>is not</code></td>
      <td>Alias de != (no iguales)</td>
    </tr>
    <tr>
      <td><code>'a' ? 'b' : 'c'</code></td>
      <td>Operador ternario. Igual al operador ternario de PHP</td>
    </tr>
    <tr>
      <td><code>++</code></td>
      <td>Incrementa un valor</td>
    </tr>
    <tr>
      <td><code>--</code></td>
      <td>Decrementa un valor</td>
    </tr>
  </tbody>
</table>

<p>En el ejemplo siguiente se muestra cómo utilizar operadores:</p>

<pre><code class="language-twig">
{% set robots = ['Voltron', 'Astro Boy', 'Terminator', 'C3PO'] %}

{% for index in 0..robots|length %}
    {% if robots[index] is defined %}
        {{ 'Name: ' ~ robots[index] }}
    {% endif %}
{% endfor %}

</code></pre>

<p><a name="tests"></a></p>

<h2 id="pruebas">Pruebas</h2>

<p>Tests can be used to test if a variable has a valid expected value. The operator <code>is</code> is used to perform the tests:</p>

<pre><code class="language-twig">
{% set robots = ['1': 'Voltron', '2': 'Astro Boy', '3': 'Terminator', '4': 'C3PO'] %}

{% for position, name in robots %}
    {% if position is odd %}
        {{ name }}
    {% endif %}
{% endfor %}

</code></pre>

<p>Las siguientes pruebas integradas están disponibles en Volt:</p>

<table>
  <thead>
    <tr>
      <th>Prueba</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>defined</code></td>
      <td>Comprueba si una variable esta definida (<code>isset()</code>)</td>
    </tr>
    <tr>
      <td><code>divisibleby</code></td>
      <td>Comprueba si un valor es divisible por otro valor</td>
    </tr>
    <tr>
      <td><code>empty</code></td>
      <td>Comprueba si una variable está vacía</td>
    </tr>
    <tr>
      <td><code>even</code></td>
      <td>Comprueba si un valor numérico es par</td>
    </tr>
    <tr>
      <td><code>iterable</code></td>
      <td>Comprueba si un valor es iterable. Que puede ser utilizado en un bucle for</td>
    </tr>
    <tr>
      <td><code>numeric</code></td>
      <td>Comprueba si el valor es numérico</td>
    </tr>
    <tr>
      <td><code>odd</code></td>
      <td>Comprueba si un valor numérico es impar</td>
    </tr>
    <tr>
      <td><code>sameas</code></td>
      <td>Comprueba si un valor es idéntico a otro valor</td>
    </tr>
    <tr>
      <td><code>scalar</code></td>
      <td>Comprueba si el valor es escalar (no una matriz, objeto o recurso)</td>
    </tr>
    <tr>
      <td><code>type</code></td>
      <td>Comprueba si un valor es del tipo especificado</td>
    </tr>
  </tbody>
</table>

<p>Más ejemplos:</p>

<pre><code class="language-twig">
{% if robot is defined %}
    The robot variable is defined
{% endif %}

{% if robot is empty %}
    The robot is null or isn't defined
{% endif %}

{% for key, name in [1: 'Voltron', 2: 'Astroy Boy', 3: 'Bender'] %}
    {% if key is even %}
        {{ name }}
    {% endif %}
{% endfor %}

{% for key, name in [1: 'Voltron', 2: 'Astroy Boy', 3: 'Bender'] %}
    {% if key is odd %}
        {{ name }}
    {% endif %}
{% endfor %}

{% for key, name in [1: 'Voltron', 2: 'Astroy Boy', 'third': 'Bender'] %}
    {% if key is numeric %}
        {{ name }}
    {% endif %}
{% endfor %}

{% set robots = [1: 'Voltron', 2: 'Astroy Boy'] %}
{% if robots is iterable %}
    {% for robot in robots %}
        ...
    {% endfor %}
{% endif %}

{% set world = 'hello' %}
{% if world is sameas('hello') %}
    {{ 'it's hello' }}
{% endif %}

{% set external = false %}
{% if external is type('boolean') %}
    {{ 'external is false or true' }}
{% endif %}

</code></pre>

<p><a name="macros"></a></p>

<h2 id="macros">Macros</h2>

<p>Las macros pueden utilizarse para reutilizar la lógica de una plantilla, actúan como funciones PHP, pueden recibir parámetros y devolver valores:</p>

<pre><code class="language-twig">
{# Macro 'display a list of links to related topics' #}
{%- macro related_bar(related_links) %}
    &lt;ul&gt;
        {%- for link in related_links %}
            &lt;li&gt;
                &lt;a href='{{ url(link.url) }}' title='{{ link.title|striptags }}'&gt;
                    {{ link.text }}
                &lt;/a&gt;
            &lt;/li&gt;
        {%- endfor %}
    &lt;/ul&gt;
{%- endmacro %}

{# Print related links #}
{{ related_bar(links) }}

&lt;div&gt;This is the content&lt;/div&gt;

{# Print related links again #}
{{ related_bar(links) }}

</code></pre>

<p>Al llamar a las macros, se pueden pasar parámetros por nombre:</p>

<pre><code class="language-twig">
{%- macro error_messages(message, field, type) %}
    &lt;div&gt;
        &lt;span class='error-type'&gt;{{ type }}&lt;/span&gt;
        &lt;span class='error-field'&gt;{{ field }}&lt;/span&gt;
        &lt;span class='error-message'&gt;{{ message }}&lt;/span&gt;
    &lt;/div&gt;
{%- endmacro %}

{# Call the macro #}
{{ error_messages('type': 'Invalid', 'message': 'The name is invalid', 'field': 'name') }}

</code></pre>

<p>Las macros pueden devolver valores:</p>

<pre><code class="language-twig">
{%- macro my_input(name, class) %}
    {% return text_field(name, 'class': class) %}
{%- endmacro %}

{# Call the macro #}
{{ '&lt;p&gt;' ~ my_input('name', 'input-text') ~ '&lt;/p&gt;' }}

</code></pre>

<p>Y recibir parámetros opcionales:</p>

<pre><code class="language-twig">
{%- macro my_input(name, class='input-text') %}
    {% return text_field(name, 'class': class) %}
{%- endmacro %}

{# Call the macro #}
{{ '&lt;p&gt;' ~ my_input('name') ~ '&lt;/p&gt;' }}
{{ '&lt;p&gt;' ~ my_input('name', 'input-text') ~ '&lt;/p&gt;' }}

</code></pre>

<p><a name="tag-helpers"></a></p>

<h2 id="usando-los-ayudantes-de-etiqueta">Usando los ayudantes de etiqueta</h2>

<p>Volt is highly integrated with <a href="api/Phalcon_Tag">Phalcon\Tag</a>, so it’s easy to use the helpers provided by that component in a Volt template:</p>

<pre><code class="language-twig">
{{ javascript_include('js/jquery.js') }}

{{ form('products/save', 'method': 'post') }}

    &lt;label for='name'&gt;Name&lt;/label&gt;
    {{ text_field('name', 'size': 32) }}

    &lt;label for='type'&gt;Type&lt;/label&gt;
    {{ select('type', productTypes, 'using': ['id', 'name']) }}

    {{ submit_button('Send') }}

{{ end_form() }}

</code></pre>

<p>Se genera el siguiente código PHP:</p>

<pre><code class="language-php">&lt;?php echo Phalcon\Tag::javascriptInclude('js/jquery.js') ?&gt;

&lt;?php echo Phalcon\Tag::form(array('products/save', 'method' =&gt; 'post')); ?&gt;

    &lt;label for='name'&gt;Name&lt;/label&gt;
    &lt;?php echo Phalcon\Tag::textField(array('name', 'size' =&gt; 32)); ?&gt;

    &lt;label for='type'&gt;Type&lt;/label&gt;
    &lt;?php echo Phalcon\Tag::select(array('type', $productTypes, 'using' =&gt; array('id', 'name'))); ?&gt;

    &lt;?php echo Phalcon\Tag::submitButton('Send'); ?&gt;


{{ end_form() }}

</code></pre>

<p>To call a <a href="api/Phalcon_Tag">Phalcon\Tag</a> helper, you only need to call an uncamelized version of the method:</p>

<table>
  <thead>
    <tr>
      <th>Método</th>
      <th>Función en Volt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Phalcon\Tag::checkField</code></td>
      <td><code>check_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::dateField</code></td>
      <td><code>date_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::emailField</code></td>
      <td><code>email_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::endForm</code></td>
      <td><code>end_form</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::fileField</code></td>
      <td><code>file_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::form</code></td>
      <td><code>form</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::friendlyTitle</code></td>
      <td><code>friendly_title</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::getTitle</code></td>
      <td><code>get_title</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::hiddenField</code></td>
      <td><code>hidden_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::image</code></td>
      <td><code>image</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::javascriptInclude</code></td>
      <td><code>javascript_include</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::linkTo</code></td>
      <td><code>link_to</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::numericField</code></td>
      <td><code>numeric_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::passwordField</code></td>
      <td><code>password_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::radioField</code></td>
      <td><code>radio_field</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::select</code></td>
      <td><code>select</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::selectStatic</code></td>
      <td><code>select_static</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::stylesheetLink</code></td>
      <td><code>stylesheet_link</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::submitButton</code></td>
      <td><code>submit_button</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::textArea</code></td>
      <td><code>text_area</code></td>
    </tr>
    <tr>
      <td><code>Phalcon\Tag::textField</code></td>
      <td><code>text_field</code></td>
    </tr>
  </tbody>
</table>

<p><a name="functions"></a></p>

<h2 id="funciones">Funciones</h2>

<p>Las siguientes funciones integradas están disponibles en Volt:</p>

<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>content</code></td>
      <td>Incluye el contenido producido en una etapa anterior de renderizado</td>
    </tr>
    <tr>
      <td><code>get_content</code></td>
      <td>Alias de <code>content</code></td>
    </tr>
    <tr>
      <td><code>partial</code></td>
      <td>Carga dinámicamente una vista parcial en la plantilla actual</td>
    </tr>
    <tr>
      <td><code>super</code></td>
      <td>Presenta el contenido del bloque padre</td>
    </tr>
    <tr>
      <td><code>time</code></td>
      <td>Llama a la función <code>time()</code> de PHP</td>
    </tr>
    <tr>
      <td><code>date</code></td>
      <td>Llama a la función <code>date()</code> de PHP</td>
    </tr>
    <tr>
      <td><code>dump</code></td>
      <td>Llama la función <code>var_dump()</code> de PHP</td>
    </tr>
    <tr>
      <td><code>version</code></td>
      <td>Devuelve la versión actual del framework</td>
    </tr>
    <tr>
      <td><code>constant</code></td>
      <td>Lee una constante de PHP</td>
    </tr>
    <tr>
      <td><code>url</code></td>
      <td>Genera una dirección URL utilizando el servicio ‘url’</td>
    </tr>
  </tbody>
</table>

<p><a name="view-integrations"></a></p>

<h2 id="integración-de-la-vista">Integración de la vista</h2>

<p>Also, Volt is integrated with <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a>, you can play with the view hierarchy and include partials as well:</p>

<pre><code class="language-twig">
{{ content() }}

&lt;!-- Simple include of a partial --&gt;
&lt;div id='footer'&gt;{{ partial('partials/footer') }}&lt;/div&gt;

&lt;!-- Passing extra variables --&gt;
&lt;div id='footer'&gt;{{ partial('partials/footer', ['links': links]) }}&lt;/div&gt;

</code></pre>

<p>Una vista parcial es incluida en tiempo de ejecución, Volt proporciona también <code>include</code>, este compila el contenido de una vista y devuelve su contenido como parte de la vista que se incluye:</p>

<pre><code class="language-twig">
{# Simple include of a partial #}
&lt;div id='footer'&gt;
    {% include 'partials/footer' %}
&lt;/div&gt;

{# Passing extra variables #}
&lt;div id='footer'&gt;
    {% include 'partials/footer' with ['links': links] %}
&lt;/div&gt;

</code></pre>

<p><a name="view-integration-include"></a></p>

<h3 id="incluir">Incluir</h3>

<p><code>include</code> tiene un comportamiento especial que nos ayudará a mejorar un poco el rendimiento cuando se usa Volt, si especifica la extensión al incluir el archivo y existe cuando se compila la plantilla, Volt puede incrustar el contenido de la plantilla incluida en la plantilla principal donde está definida la inclusión. Las plantillas no serán incrustadas si el <code>include</code> tiene variables pasadas con <code>with</code>:</p>

<pre><code class="language-twig">
{# The contents of 'partials/footer.volt' is compiled and inlined #}
&lt;div id='footer'&gt;
    {% include 'partials/footer.volt' %}
&lt;/div&gt;

</code></pre>

<p><a name="view-integration-partial-vs-include"></a></p>

<h3 id="parciales-vs-inclusiones">Parciales vs inclusiones</h3>

<p>Tenga los siguientes puntos en cuenta al elegir utilizar la función <code>partial</code> o <code>include</code>:</p>

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>partial</code></td>
      <td>Permite incluir plantillas en Volt, igual que en otros motores de plantillas</td>
    </tr>
    <tr>
      <td> </td>
      <td>Permite pasar de una expresión como una variable permitiendo incluir el contenido de otra vista dinámicamente</td>
    </tr>
    <tr>
      <td> </td>
      <td>Es mejor si el contenido que usted tiene que incluir cambia con frecuencia</td>
    </tr>
    <tr>
      <td><code>include</code></td>
      <td>Copia el contenido compilado en la vista, mejorando el rendimiento</td>
    </tr>
    <tr>
      <td> </td>
      <td>Sólo permite incluir plantillas creadas con Volt</td>
    </tr>
    <tr>
      <td> </td>
      <td>Requiere de una plantilla existente en tiempo de compilación</td>
    </tr>
  </tbody>
</table>

<p><a name="template-inheritance"></a></p>

<h2 id="herencia-de-plantillas">Herencia de Plantillas</h2>

<p>Con herencia de plantillas se pueden crear plantillas base que pueden ampliarse con otras plantillas permitiendo reutilizar código. En una plantilla base se definen bloques <em>blocks</em> que puede ser reemplazados por una plantilla hija. Supongamos que tenemos la siguiente plantilla de base:</p>

<pre><code class="language-twig">
{# templates/base.volt #}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        {% block head %}
            &lt;link rel='stylesheet' href='style.css' /&gt;
        {% endblock %}

        &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div id='content'&gt;{% block content %}{% endblock %}&lt;/div&gt;

        &lt;div id='footer'&gt;
            {% block footer %}&amp;copy; Copyright 2015, All rights reserved.{% endblock %}
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;

</code></pre>

<p>Desde otra plantilla podríamos ampliar la plantilla base, reemplazando los bloques:</p>

<pre><code class="language-twig">
{% extends 'templates/base.volt' %}

{% block title %}Index{% endblock %}

{% block head %}&lt;style type='text/css'&gt;.important { color: #336699; }&lt;/style&gt;{% endblock %}

{% block content %}
    &lt;h1&gt;Index&lt;/h1&gt;
    &lt;p class='important'&gt;Welcome on my awesome homepage.&lt;/p&gt;
{% endblock %}

</code></pre>

<p>Not all blocks must be replaced at a child template, only those that are needed. The final output produced will be the following:</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;style type='text/css'&gt;.important { color: #336699; }&lt;/style&gt;

        &lt;title&gt;Index - Mi Página Web&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div id='content'&gt;
            &lt;h1&gt;Index&lt;/h1&gt;
            &lt;p class='important'&gt;Bienvenido a mi increíble página principal.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div id='footer'&gt;
            &amp;copy; Copyright 2015, Todos los derechos reservados.
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><a name="template-inheritance-multiple"></a></p>

<h3 id="herencia-múltiple">Herencia múltiple</h3>

<p>Extended templates can extend other templates. The following example illustrates this:</p>

<pre><code class="language-twig">
{# main.volt #}
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        {% block content %}{% endblock %}
    &lt;/body&gt;
&lt;/html&gt;

</code></pre>

<p>La plantilla <code>layout.volt</code> extiende de <code>main.volt</code></p>

<pre><code class="language-twig">
{# layout.volt #}
{% extends 'main.volt' %}

{% block content %}

    &lt;h1&gt;Table of contents&lt;/h1&gt;

{% endblock %}

</code></pre>

<p>Finalmente una vista que se extiende de <code>layout.volt</code>:</p>

<pre><code class="language-twig">
{# index.volt #}
{% extends 'layout.volt' %}

{% block content %}

    {{ super() }}

    &lt;ul&gt;
        &lt;li&gt;Some option&lt;/li&gt;
        &lt;li&gt;Some other option&lt;/li&gt;
    &lt;/ul&gt;

{% endblock %}

</code></pre>

<p>El renderizado de <code>index.volt</code> producirá:</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Título&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;

        &lt;h1&gt;Tabla de contenidos&lt;/h1&gt;

        &lt;ul&gt;
            &lt;li&gt;Una opción&lt;/li&gt;
            &lt;li&gt;Otra opción&lt;/li&gt;
        &lt;/ul&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Tenga en cuenta la llamada a la función <code>super()</code>. Con esa función es posible representar los contenidos del bloque padre. Al igual que en las vistas parciales, la ruta para definir una herencia con <code>extends</code> es una ruta de acceso relativa del directorio actual de las vistas (es decir, <code>app/views/</code>).</p>

<h5 class="alert alert-warning">Por defecto y por motivos de rendimiento, Volt sólo comprueba cambios en las plantillas hijas para saber cuándo debe volver a compilar y generar PHP plano otra vez, por lo que es recomendable inicializar Volt con la opción de <code>'compileAlways' =&gt; true</code>. Por lo tanto, las plantillas se compilan siempre teniendo en cuenta los cambios en las plantillas padre. </h5>

<p><a name="autoescape"></a></p>

<h2 id="modo-de-autoescape">Modo de Autoescape</h2>

<p>Es posible activar el auto-escape de todas las variables en un bloque usando el modo autoescape:</p>

<pre><code class="language-twig">
Manually escaped: {{ robot.name|e }}

{% autoescape true %}
    Autoescaped: {{ robot.name }}
    {% autoescape false %}
        No Autoescaped: {{ robot.name }}
    {% endautoescape %}
{% endautoescape %}

</code></pre>

<p><a name="extending"></a></p>

<h2 id="extender-volt">Extender Volt</h2>

<p>A diferencia de otros motores de plantillas, Volt en sí mismo no está obligado a ejecutar las plantillas compiladas. Una vez que se compilan las plantillas no hay ninguna dependencia con Volt. Con independencia del rendimiento en mente, Volt sólo actúa como un compilador de plantillas PHP.</p>

<p>El compilador de Volt permite ser ampliado, añadiendole más funciones, tests o filtros a los ya existentes.</p>

<p><a name="extending-functions"></a></p>

<h3 id="funciones-1">Funciones</h3>

<p>Las funciones actúan como funciones normales de PHP, un nombre de cadena válida se requiere como nombre de la función. Las funciones se pueden agregar mediante dos estrategias, retornando una cadena simple o utilizando una función anónima. Siempre es necesario que la estrategia elegida devuelva una expresión de PHP válida:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View\Engine\Volt;

$volt = new Volt($view, $di);

$compiler = $volt-&gt;getCompiler();

// Vincular la función con nombre 'shuffle' en Volt a la función 'str_shuffle' de PHP
$compiler-&gt;addFunction('shuffle', 'str_shuffle');
</code></pre>

<p>Register the function with an anonymous function. This case we use <code>$resolvedArgs</code> to pass the arguments exactly as were passed in the arguments:</p>

<pre><code class="language-php">&lt;?php

$compiler-&gt;addFunction(
    'widget',
    function ($resolvedArgs, $exprArgs) {
        return 'MyLibrary\Widgets::get(' . $resolvedArgs . ')';
    }
);
</code></pre>

<p>Trate los argumentos de manera independiente y sin resolver:</p>

<pre><code class="language-php">&lt;?php

$compiler-&gt;addFunction(
    'repeat',
    function ($resolvedArgs, $exprArgs) use ($compiler) {
        // Resolver el primer argumento
        $firstArgument = $compiler-&gt;expression($exprArgs[0]['expr']);

        // Comprobar si el segundo argumento fue pasado
        if (isset($exprArgs[1])) {
            $secondArgument = $compiler-&gt;expression($exprArgs[1]['expr']);
        } else {
            // Por defecto, usar '10'
            $secondArgument = '10';
        }

        return 'str_repeat(' . $firstArgument . ', ' . $secondArgument . ')';
    }
);
</code></pre>

<p>Generar el código basado en la disponibilidad de alguna función:</p>

<pre><code class="language-php">&lt;?php

$compiler-&gt;addFunction(
    'contains_text',
    function ($resolvedArgs, $exprArgs) {
        if (function_exists('mb_stripos')) {
            return 'mb_stripos(' . $resolvedArgs . ')';
        } else {
            return 'stripos(' . $resolvedArgs . ')';
        }
    }
);
</code></pre>

<p>Las funciones integradas se pueden reemplazar agregando una función con su nombre:</p>

<pre><code class="language-php">&lt;?php

// Reemplazar la función incorporada 'dump'
$compiler-&gt;addFunction('dump', 'print_r');
</code></pre>

<p><a name="extending-filters"></a></p>

<h3 id="filtros-1">Filtros</h3>

<table>
  <tbody>
    <tr>
      <td>A filter has the following form in a template: leftExpr</td>
      <td>name(optional-args). Adding new filters is similar as seen with the functions:</td>
    </tr>
  </tbody>
</table>

<pre><code class="language-php">&lt;?php

// Creamos el filtro 'hash' que usa la funcion 'md5' de PHP
$compiler-&gt;addFilter('hash', 'md5');
</code></pre>

<pre><code class="language-php">&lt;?php

$compiler-&gt;addFilter(
    'int',
    function ($resolvedArgs, $exprArgs) {
        return 'intval(' . $resolvedArgs . ')';
    }
);
</code></pre>

<p>Los filtros incorporados se pueden reemplazar agregando una función con su nombre:</p>

<pre><code class="language-php">&lt;?php

// Reemplazar el filtro incorporado 'capitalize'
$compiler-&gt;addFilter('capitalize', 'lcfirst');
</code></pre>

<p><a name="extending-extensions"></a></p>

<h3 id="extensiones">Extensiones</h3>

<p>Con las extensiones, el desarrollador tiene más flexibilidad para extender el motor de la plantilla y reemplazar la compilación de una instrucción específica, cambiar el comportamiento de una expresión o un operador, añadir funciones y filtros y mucho más.</p>

<p>An extension is a class that implements the events triggered by Volt as a method of itself. For example, the class below allows to use any PHP function in Volt:</p>

<pre><code class="language-php">&lt;?php

class PhpFunctionExtension
{
    /**
     * Este metodo es llamado ante cualquier intento de compilar una función llamada
     */
    public function compileFunction($name, $arguments)
    {
        if (function_exists($name)) {
            return $name . '('. $arguments . ')';
        }
    }
}
</code></pre>

<p>La clase anterior implementa el método <code>compileFunction</code> que se invoca antes de cualquier intento de compilar una llamada a la función en cualquier plantilla. El propósito de la extensión es verificar si una función tiene que ser compilada es una función PHP que permite ser llamar desde la plantilla. Los eventos en las extensiones deben devolver código PHP válido, este será usado como resultado de la compilación en vez del generado por Volt. Si un evento no devuelve una cadena, la compilación se realiza utilizando el comportamiento predeterminado proporcionado por el motor.</p>

<p>Los siguientes eventos de compilación están disponibles para ser implementados en extensiones:</p>

<table>
  <thead>
    <tr>
      <th>Método/Evento</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>compileFunction</code></td>
      <td>Es activado antes de intentar compilar cualquier llamada a una función en una plantilla</td>
    </tr>
    <tr>
      <td><code>compileFilter</code></td>
      <td>Es activado antes de intentar compilar cualquier llamada a un filtro en una plantilla</td>
    </tr>
    <tr>
      <td><code>resolveExpression</code></td>
      <td>Activado antes de intentar compilar cualquier expresión. Esto permite a los desarrolladores sobreescribir operadores</td>
    </tr>
    <tr>
      <td><code>compileStatement</code></td>
      <td>Activado antes de intentar compilar cualquier expresión. Esto permite a los desarrolladores sobreescribir cualquier declaración</td>
    </tr>
  </tbody>
</table>

<p>Las extensiones de Volt deben estar registradas en el compilador, estando a disposición en tiempo de compilación:</p>

<pre><code class="language-php">&lt;?php

// Registrar la extensión en el compilador
$compiler-&gt;addExtension(
    new PhpFunctionExtension()
);
</code></pre>

<p><a name="caching-view-fragments"></a></p>

<h2 id="almacenamiento-en-caché-de-fragmentos-de-la-vista">Almacenamiento en caché de fragmentos de la vista</h2>

<p>With Volt it’s easy cache view fragments. This caching improves performance preventing that the contents of a block from being executed by PHP each time the view is displayed:</p>

<pre><code class="language-twig">
{% cache 'sidebar' %}
    &lt;!-- generate this content is slow so we are going to cache it --&gt;
{% endcache %}

</code></pre>

<p>Establecer un número específico de segundos:</p>

<pre><code class="language-twig">
{# cache the sidebar by 1 hour #}
{% cache 'sidebar' 3600 %}
    &lt;!-- generate this content is slow so we are going to cache it --&gt;
{% endcache %}

</code></pre>

<p>Cualquier expresión válida puede utilizarse como clave del caché:</p>

<pre><code class="language-twig">
{% cache ('article-' ~ post.id) 3600 %}

    &lt;h1&gt;{{ post.title }}&lt;/h1&gt;

    &lt;p&gt;{{ post.content }}&lt;/p&gt;

{% endcache %}

</code></pre>

<p>El almacenamiento en caché lo realiza el componente <code>Phalcon\Cache</code> mediante el componente de la vista. Learn more about how this integration works in the section <a href="/3.4/en/views#caching-fragments">Caching View Fragments</a>.</p>

<p><a name="services-in-templates"></a></p>

<h2 id="inyectar-servicios-en-una-plantilla">Inyectar servicios en una plantilla</h2>

<p>Si un contenedor de servicio (DI) está disponible para Volt, puede usar los servicios accediendo solamente el nombre del servicio en la plantilla:</p>

<pre><code class="language-twig">
{# Inject the 'flash' service #}
&lt;div id='messages'&gt;{{ flash.output() }}&lt;/div&gt;

{# Inject the 'security' service #}
&lt;input type='hidden' name='token' value='{{ security.getToken() }}'&gt;

</code></pre>

<p><a name="stand-alone"></a></p>

<h2 id="componente-independiente">Componente independiente</h2>

<p>A continuación demostramos como utilizar Volt en modo independiente:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\View\Engine\Volt\Compiler as VoltCompiler;

// Crear un compilador
$compiler = new VoltCompiler();

// Opcionalmente agregar algunas opciones
$compiler-&gt;setOptions(
    [
        // ...
    ]
);

// Compilar la cadena de la plantilla, retornando código PHP
echo $compiler-&gt;compileString(
    "hola"
);

// Compilar una plantilla en un archivo, especificando su destino
$compiler-&gt;compileFile(
    'layouts/main.volt',
    'cache/layouts/main.volt.php'
);

// Compilar una plantillas en un archivo, basando en las opciones pasadas en el compilador
$compiler-&gt;compile(
    'layouts/main.volt'
);

// Requerir la plantilla compilada (opcional)
require $compiler-&gt;getCompiledTemplatePath();
</code></pre>

<h2 id="recursos-externos">Recursos externos</h2>

<ul>
  <li>Un paquete para Sublime/Textmate está disponible <a href="https://github.com/phalcon/volt-sublime-textmate">aquí</a></li>
  <li><a href="https://album-o-rama.phalconphp.com">Álbum-O-Rama</a> es una aplicación de ejemplo que usa Volt como motor de la plantilla, <a href="https://github.com/phalcon/album-o-rama">código fuente en Github</a></li>
  <li><a href="https://phalconphp.com">Nuestro sitio web</a> se ejecuta usando Volt como motor de la plantilla, <a href="https://github.com/phalcon/website">código fuente en Github</a></li>
  <li><a href="https://forum.phalconphp.com">Phosphorum</a>, el foro de Phalcon, también utiliza Volt, <a href="https://github.com/phalcon/forum">código fuente en Github</a></li>
  <li><a href="https://vokuro.phalconphp.com">Vökuró</a>, es otra aplicación de ejemplo que utiliza Volt, <a href="https://github.com/phalcon/vokuro">ódigo de ejemplo en Github</a></li>
</ul>

                                    </div>
                                    <div class="col-md-4 col-lg-3 col-sm-12 support-column-margin">
                                        <div class="topic-search">
    <form class="bd-search d-flex align-items-center">
        <input type="search"
               class="form-control"
               id="docs-search"
               placeholder=""
               aria-label=""
               autocomplete="off"
               data-siteurl="https://phalcon-docs4.netlify.com"
               data-docs-version="3.4">
        <button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3"
                type="button"
                data-toggle="collapse"
                data-target="#bd-docs-nav"
                aria-controls="bd-docs-nav"
                aria-expanded="false"
                aria-label="Toggle docs navigation">
            <svg xmlns="http://www.w3.org/2000/svg"
                 viewbox="0 0 30 30"
                 width="30"
                 height="30"
                 focusable="false">
                <title>Menu</title>
                <path stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-miterlimit="10"
                      d="M4 7h22M4 15h22M4 23h22"></path>
            </svg>
        </button>
    </form>
</div>
                                        <div class="topic-categories">
    
</div>

                                        <div class="article-menu">
    <ul>
        
        
    </ul>
</div>
                                    </div>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
            </div>
        </div>
    </div>

<footer>
    <div class="container">
        <div class="footer-wrapper clearfix">

            <div class="footer-link-container">
                <a class="footer-link" href="/">
                    <img class="footer-logo-img" src="/assets/images/footer_logo.svg" alt="logo">
                </a>
                <a class="footer-link" href="https://phalcon.link/about" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/sponsors" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/fund" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/download" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://license.phalconphp.com/" target="_blank">
                     New BSD
                </a>
            </div>

            <div class="footer-copyright">
                <a href="https://odva.pro/" target="_blank" class="o2-link">
                    <span></span> <img src="/assets/images/logo-o2.svg" alt="logo o2">
                </a>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/assets/js/main.min.js?v1547266080100021829"></script>
<script type="text/javascript" src="/assets/js/highlight/highlight.pack.js?v1547266080100021829"></script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
</body>
</html>

<!doctype html>
<!--[if IE 8]>
<html lang="es-es" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="es-es" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="es-es" class="no-js">
<!--<![endif]-->








    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <script type="text/javascript" src="/assets/js/viewport-min-width.js?v1547266080100021829"></script>
        <meta name="description"
              content="Official Phalcon Documentation">
        <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework, php extension, next generation framework, docs, documentation">
        <meta name="author" href="/humans.txt">
        <meta name="generator" content="Phalcon Team - Jekyll - Netlify">

        <link href="https://phalcon-docs4.netlify.com/3.4/es-es/acl.html" rel="canonical">
        <title>Phalcon Framework Documentation</title>

        <!-- Twitter -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@zephirlang">
        <meta name="twitter:creator" content="@zephirlang">
        <meta name="twitter:title" content="Phalcon Framework Documentation">
        <meta name="twitter:description" content="Official Phalcon Documentation">
        <meta name="twitter:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <!-- Facebook -->
        <meta property="og:url" content="https://phalcon-docs4.netlify.com">
        <meta property="og:title" content="Phalcon Framework Documentation">
        <meta property="og:description" content="Official Phalcon Documentation">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <meta name="msapplication-TileColor" content="#FFFFFF">
        <meta name="msapplication-square70x70logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-70x70.png">
        <meta name="msapplication-TileImage"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-144x144.png">
        <meta name="msapplication-square150x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-150x150.png">
        <meta name="msapplication-wide310x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x150.png">
        <meta name="msapplication-square310x310logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x310.png">

        <link rel="apple-touch-icon"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon.png">

        <link rel="apple-touch-icon-precomposed"
              sizes="57x57"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="60x60"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="72x72"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="76x76"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="114x114"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="120x120"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="144x144"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="152x152"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-152x152.png">

        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-16x16.png">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-32x32.png">
        <link rel="icon"
              type="image/png"
              sizes="96x96"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-96x96.png">
        <link rel="icon"
              type="image/png"
              sizes="128x128"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-128x128.png">
        <link rel="icon"
              type="image/png"
              sizes="196x196"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-196x196.png">
        <link rel="shortcut icon"
              type="image/png"
              href="https://assets.phalconphp.com/phalcon/favicon.ico"/>

        <link rel="alternate"
              type="application/rss+xml"
              title=" - "
              href="https://phalcon-docs4.netlify.com/feed.xml">

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="
              crossorigin="anonymous" />
        <link rel="stylesheet" href="/assets/css/monokai.css?v1547266080100021829" />
        <link rel="stylesheet" href="/assets/css/style.css?v1547266080100021829" />

        <script defer src="https://use.fontawesome.com/releases/v5.6.1/js/all.js"
                integrity="sha384-R5JkiUweZpJjELPWqttAYmYM1P3SNEJRM6ecTQF05pFFtxmCO+Y1CiUhvuDzgSVZ"
                crossorigin="anonymous"></script>
        
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90300500-6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90300500-6');
    </script>

    </head>


<body onclick="o2.allNavSlideUp()">
    <header class="header-image-doc">
        <div class="container">
            <div class="header-wrapper">
                <div class="clearfix">
                    <div class="row">
                        <div class="col-md-2 col-sm-3  col-xs-8">
                            <div class="header-image__logo-wrapper">
                                <a href="/3.4/es-es">
                                    <img class="logo-img" src="/assets/images/header_logo.svg" alt="logo">
                                </a>
                            </div>
                        </div>
                        <div class="col-md-10 col-sm-9 top-menu">

                            <div class="nav-icon" onclick="o2.showMobileMenu();">
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                            </div>
                            <nav class="header-nav">
                                <ul>
                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                 alt="">
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list" onclick="event.stopPropagation();">
                                            
                                                <a href="/3.4/en/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                         alt="English (US)">
                                                    English (US)
                                                </a>
                                            
                                                <a href="/3.4/cs-cz/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                         alt="Czech">
                                                    Czech
                                                </a>
                                            
                                                <a href="/3.4/de-de/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                         alt="German">
                                                    German
                                                </a>
                                            
                                                <a href="/3.4/es-es/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                         alt="Spanish">
                                                    Spanish
                                                </a>
                                            
                                                <a href="/3.4/fa-ir/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                         alt="Persian">
                                                    Persian
                                                </a>
                                            
                                                <a href="/3.4/fr-fr/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                         alt="French">
                                                    French
                                                </a>
                                            
                                                <a href="/3.4/id-id/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                         alt="Indonesian">
                                                    Indonesian
                                                </a>
                                            
                                                <a href="/3.4/it-it/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                         alt="Italian">
                                                    Italian
                                                </a>
                                            
                                                <a href="/3.4/ja-jp/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                         alt="Japanese">
                                                    Japanese
                                                </a>
                                            
                                                <a href="/3.4/pl-pl/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                         alt="Polish">
                                                    Polish
                                                </a>
                                            
                                                <a href="/3.4/ru-ru/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                         alt="Russian">
                                                    Russian
                                                </a>
                                            
                                                <a href="/3.4/tr-tr/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                         alt="Turkish">
                                                    Turkish
                                                </a>
                                            
                                                <a href="/3.4/uk-ua/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                         alt="Ukrainian">
                                                    Ukrainian
                                                </a>
                                            
                                                <a href="/3.4/zh-cn/acl" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                         alt="Chinese Simplified">
                                                    Chinese Simplified
                                                </a>
                                            
                                        </div>
                                    </li>

                                        <li class="nav-item" onclick="o2.toggleState(this, event);">
                                            <div class="nav-item__selected custom-select__version">
                                                 3.4
                                                <span class="caret"></span>
                                            </div>
                                            <div class="nav-item__list" onclick="event.stopPropagation();">
                                                
                                                <a href="/3.4/es-es/acl" class="custom-select__list-item">
                                                    <span>3.4</span>
                                                </a>
                                                
                                                <a href="/3.3/es-es/acl" class="custom-select__list-item">
                                                    <span>3.3</span>
                                                </a>
                                                
                                                <a href="/3.2/es-es/acl" class="custom-select__list-item">
                                                    <span>3.2</span>
                                                </a>
                                                
                                                <a href="/3.1/es-es/acl" class="custom-select__list-item">
                                                    <span>3.1</span>
                                                </a>
                                                
                                                <a href="/4.0/es-es/acl" class="custom-select__list-item">
                                                    <span>4.0</span>
                                                </a>
                                                
                                            </div>
                                        </li>

                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list">
                                            <a href="https://phalcon.link/forum" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/blog" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/resources" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <div class="nav-item__divider"></div>
                                            <a href="https://phalcon.link/f" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/t" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                            <a href="https://phalcon.link/gab" class="custom-select__list-item" target="_blank">
                                                
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/about">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/sponsors">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/fund">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/download">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="header-nav-mobile">
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    <img class="lang-image"
                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                         alt="">
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/en/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                 alt="English (US)">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/cs-cz/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                 alt="Czech">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/de-de/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                 alt="German">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/es-es/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                 alt="Spanish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fa-ir/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                 alt="Persian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fr-fr/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                 alt="French">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/id-id/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                 alt="Indonesian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/it-it/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                 alt="Italian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ja-jp/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                 alt="Japanese">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/pl-pl/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                 alt="Polish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ru-ru/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                 alt="Russian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/tr-tr/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                 alt="Turkish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/uk-ua/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                 alt="Ukrainian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/zh-cn/acl">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                 alt="Chinese Simplified">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this,event)">
                                     3.4
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.4/es-es/acl">
                                            <span>3.4</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.3/es-es/acl">
                                            <span>3.3</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.2/es-es/acl">
                                            <span>3.2</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.1/es-es/acl">
                                            <span>3.1</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/4.0/es-es/acl">
                                            <span>4.0</span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    
                                    <span class="caret"></span>
                                </div>
                                <ul style="display:none;">
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/forum" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/blog" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/resources" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/f" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/t" target="_blank">
                                            
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/gab" target="_blank">
                                            
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/about">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/sponsors">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/fund">
                                    
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/download">
                                    
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div class="container-fluid article-page-wrap">
        <div class="row">
            <div>
                <div class="col-md-2 sidebar hidden-xs">
                    <div class="sidebar--spacer">&nbsp;</div>
                </div>
                <div class="m-t-md m-b-lg" id="articles">
                    <div class="article-content">
                        







                        <section class="documentation-section">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-8 col-lg-9 parse-content">
                                        <div>
                                            <a class="article-content-edit-link pull-right"
                                               href="https://crowdin.com/project/phalcon-documentation/es-es">
                                                
                                            </a>
                                            <br>
                                        </div>
                                        <p><a name="overview"></a></p>

<h1 id="listas-de-control-de-acceso-acl">Listas de control de acceso (ACL)</h1>

<p><a href="api/Phalcon_Acl">Phalcon\Acl</a> provides an easy and lightweight management of ACLs as well as the permissions attached to them. <a href="http://en.wikipedia.org/wiki/Access_control_list">Listas de Control de Acceso</a> (ACL) permiten a una aplicación controlar el acceso a sus áreas y a los objetos subyacentes de las solicitudes. Te recomendamos leer más sobre la metodología ACL para familiarizarse con sus conceptos.</p>

<p>En Resumen, las ACL tienen roles y recursos. Los recursos son objetos que cumplen con los permisos definidos por las ACL. Los Roles son objetos que solicitan acceso a recursos y se puede permitir o denegar el acceso por el mecanismo ACL.</p>

<p><a name="setup"></a></p>

<h2 id="creando-una-acl">Creando una ACL</h2>

<p>Este componente está diseñado para trabajar inicialmente en la memoria. Esto proporciona facilidad de uso y rapidez en el acceso a todos los aspectos de la lista. The <a href="api/Phalcon_Acl">Phalcon\Acl</a> constructor takes as its first parameter an adapter used to retrieve the information related to the control list. Un ejemplo usando el adaptador de memoria es el siguiente:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Adapter\Memory as AclList;

$acl = new AclList();
</code></pre>

<p>By default <a href="api/Phalcon_Acl">Phalcon\Acl</a> allows access to action on resources that have not yet been defined. Para aumentar el nivel de seguridad de la lista de acceso podemos definir el nivel de acceso predeterminado en <code>deny</code>.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl;

// Por defecto denegar acceso
$acl-&gt;setDefaultAction(
    Acl::DENY
);
</code></pre>

<p><a name="adding-roles"></a></p>

<h2 id="agregar-roles-a-la-acl">Agregar roles a la ACL</h2>

<p>Un rol es un objeto que puede o no acceder a ciertos recursos en la lista de acceso. Como ejemplo, vamos a definir roles como grupos de personas en una organización. The <a href="api/Phalcon_Acl_Role">Phalcon\Acl\Role</a> class is available to create roles in a more structured way. Vamos a añadir algunos roles a la lista recién creada:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Role;

// Creamos algunos roles.
// El primer parámetro es el nombre, el segundo parámetro es una descripción opcional.
$roleAdmins = new Role('Administrador', 'Super Usuario');
$roleGuests = new Role('Invitado');

// Agregamos el rol 'Invitado' al ACL
$acl-&gt;addRole($roleGuests);

// Agregamos el rol 'Diseñador' sin utilizar Phalcon\Acl\Role
$acl-&gt;addRole('Diseñador');
</code></pre>

<p>Como se puede ver en la última linea, se definieron roles directamente sin utilizar una instancia, utilizando el nombre del mismo.</p>

<p><a name="adding-resources"></a></p>

<h2 id="agregando-recursos">Agregando Recursos</h2>

<p>Recursos son objetos donde se controla el acceso. Normalmente en aplicaciones MVC los recursos se refieren a los controladores. Although this is not mandatory, the <a href="api/Phalcon_Acl_Resource">Phalcon\Acl\Resource</a> class can be used in defining resources. Es importante agregar acciones relacionadas u operaciones a un recurso para que la ACL pueda entender lo que debe controlar.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Resource;

// Definimos el rescurso 'Clientes'
$customersResource = new Resource('Clientes');

// Agregamos un par de operaciones a los 'Clientes'

$acl-&gt;addResource(
    $customersResource,
    'buscar'
);

$acl-&gt;addResource(
    $customersResource,
    [
        'crear',
        'actualizar',
    ]
);
</code></pre>

<p><a name="access-controls"></a></p>

<h2 id="definir-controles-de-acceso">Definir controles de acceso</h2>

<p>Ahora que ya tenemos roles y recursos, es hora de definir la ACL (es decir, qué roles pueden acceder a qué recursos). Esta parte es muy importante, especialmente teniendo en cuenta su nivel de acceso nivel por predeterminado <code>allow</code> o <code>deny</code>.</p>

<pre><code class="language-php">&lt;?php

// Seteamos el nivel de acceso para roles en recursos

$acl-&gt;allow('Invitado', 'Clientes', 'buscar');

$acl-&gt;allow('Invitado', 'Clientes', 'crear');

$acl-&gt;deny('Invitado', 'Clientes', 'actualizar');
</code></pre>

<p>The <code>allow()</code> method designates that a particular role has granted access to a particular resource. The <code>deny()</code> method does the opposite.</p>

<p><a name="querying"></a></p>

<h2 id="consultando-una-acl">Consultando una ACL</h2>

<p>Once the list has been completely defined. We can query it to check if a role has a given permission or not.</p>

<pre><code class="language-php">&lt;?php

// Chequeamos si un rol tiene acceso a las operaciones

// Retorna false
$acl-&gt;isAllowed('Invitado', 'Clientes', 'editar');

// Retorna true
$acl-&gt;isAllowed('Invitado', 'Clientes', 'buscar');

// Retorna true
$acl-&gt;isAllowed('Invitado', 'Clientes', 'crear');
</code></pre>

<p><a name="function-based-access"></a></p>

<h2 id="acceso-basado-en-una-función">Acceso basado en una función</h2>

<p>También se puede añadir como cuarto parámetro, una función anónima, que debe devolver un valor booleano. Se llamará cuando se utilice el método <code>isAllowed()</code>. Puede pasar parámetros como un array asociativo al método <code>isAllowed()</code> en el cuarto argumento, donde las claves del array serán el utilizadas como nombre del parámetro de la función anónima definida. Veamos un ejemplo:</p>

<pre><code class="language-php">&lt;?php
// Damos acceso a un rol en un recurso con una función anónima 
$acl-&gt;allow(
    'Invitado',
    'Clientes',
    'buscar',
    function ($a) {
        return $a % 2 === 0; // $a tiene que ser un número par
    }
);

// Chequeamos si el rol tiene acceso a la operación

// Retorna true
$acl-&gt;isAllowed(
    'Invitado',
    'Clientes',
    'buscar',
    [
        'a' =&gt; 4,
    ]
);

// Retorna false
$acl-&gt;isAllowed(
    'Invitado',
    'Clientes',
    'buscar',
    [
        'a' =&gt; 3,
    ]
);
</code></pre>

<p>Además si usted no proporciona ningún parámetro en el método de <code>isAllowed()</code> entonces el comportamiento por defecto será <code>Acl::ALLOW</code>. Puede cambiarlo utilizando el método <code>setNoArgumentsDefaultAction()</code>.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl;

// Configurar nivel de acceso para roles en recursos con funciones
$acl-&gt;allow(
    'Invitado',
    'Clientes',
    'buscar',
    function ($a) {
        return $a % 2 === 0;
    }
);

// Chequear si el rol tiene acceso a la operación con una función

// Retorna true
$acl-&gt;isAllowed(
    'Invitado',
    'Clientes',
    'buscar'
);

// Cambiar el comportamiento de noArgumentsDefaultAction
$acl-&gt;setNoArgumentsDefaultAction(
    Acl::DENY
);

// Retorna false
$acl-&gt;isAllowed(
    'Invitado',
    'Clientes',
    'buscar'
);
</code></pre>

<p><a name="objects"></a></p>

<h2 id="objetos-como-nombre-de-rol-y-recurso">Objetos como nombre de rol y recurso</h2>

<p>Puede pasar objetos como <code>roleName</code> y <code>resourceName</code>. Your classes must implement <a href="api/Phalcon_Acl_RoleAware">Phalcon\Acl\RoleAware</a> for <code>roleName</code> and <a href="api/Phalcon_Acl_ResourceAware">Phalcon\Acl\ResourceAware</a> for <code>resourceName</code>.</p>

<p>Nuestra clase <code>UserRole</code></p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\RoleAware;

// Crear nuestra clase que se utilizará como roleName
class UserRole implements RoleAware
{
    protected $id;

    protected $roleName;

    public function __construct($id, $roleName)
    {
        $this-&gt;id       = $id;
        $this-&gt;roleName = $roleName;
    }

    public function getId()
    {
        return $this-&gt;id;
    }

    // Implementamos esta función desde RoleAware Interface
    public function getRoleName()
    {
        return $this-&gt;roleName;
    }
}
</code></pre>

<p>Y nuestra clase <code>ModelResource</code></p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\ResourceAware;

// Crear nuestra clase que será utilizada como resourceName
class ModelResource implements ResourceAware
{
    protected $id;

    protected $resourceName;

    protected $userId;

    public function __construct($id, $resourceName, $userId)
    {
        $this-&gt;id           = $id;
        $this-&gt;resourceName = $resourceName;
        $this-&gt;userId       = $userId;
    }

    public function getId()
    {
        return $this-&gt;id;
    }

    public function getUserId()
    {
        return $this-&gt;userId;
    }

    // Implementamos la función desde ResourceAware Interface
    public function getResourceName()
    {
        return $this-&gt;resourceName;
    }
}
</code></pre>

<p>Luego puede utilizarlos en el método <code>isAllowed()</code>.</p>

<pre><code class="language-php">&lt;?php

use UserRole;
use ModelResource;

// Confirguramos la lista de acceso 
$acl-&gt;allow('Invitado', 'Clientes', 'buscar');
$acl-&gt;allow('Invitado', 'Clientes', 'crear');
$acl-&gt;deny('Invitado', 'Clientes', 'actualizar');

// Creamos nuestros objectos proveyendo roleName y resourceName

$customer = new ModelResource(
    1,
    'Clientes',
    2
);

$designer = new UserRole(
    1,
    'Diseñador'
);

$guest = new UserRole(
    2,
    'Invitado'
);

$anotherGuest = new UserRole(
    3,
    'Invitado'
);

// Chequeamos si nuestro objecto usuario tiene acceso a la operación en el objecto modelo

// Retorna false
$acl-&gt;isAllowed(
    $designer,
    $customer,
    'buscar'
);

// Retorna true
$acl-&gt;isAllowed(
    $guest,
    $customer,
    'buscar'
);

// Retorna true
$acl-&gt;isAllowed(
    $anotherGuest,
    $customer,
    'buscar'
);
</code></pre>

<p>Also you can access those objects in your custom function in <code>allow()</code> or <code>deny()</code>. They are automatically bind to parameters by type in function.</p>

<pre><code class="language-php">&lt;?php

use UserRole;
use ModelResource;

// Configuramos la lista para el rol y la función
$acl-&gt;allow(
    'Invitado',
    'Clientes',
    'buscar',
    function (UserRole $user, ModelResource $model) { // Las clases User y Model son necesarias
        return $user-&gt;getId == $model-&gt;getUserId();
    }
);

$acl-&gt;allow(
    'Invitado',
    'Clientes',
    'crear'
);

$acl-&gt;deny(
    'Invitado',
    'Clientes',
    'actualizar'
);

// Creamos nuestros objectos proveyendo roleName y resourceName

$customer = new ModelResource(
    1,
    'Clientes',
    2
);

$designer = new UserRole(
    1,
    'Diseñador'
);

$guest = new UserRole(
    2,
    'Invitado'
);

$anotherGuest = new UserRole(
    3,
    'Invitado'
);

// Chequeamos si nuestro objecto usuario tiene acceso a la operación en el modelo

// Retorna false
$acl-&gt;isAllowed(
    $designer,
    $customer,
    'buscar'
);

// Retorna true
$acl-&gt;isAllowed(
    $guest,
    $customer,
    'buscar'
);

// Retorna false
$acl-&gt;isAllowed(
    $anotherGuest,
    $customer,
    'buscar'
);
</code></pre>

<p>You can still add any custom parameters to function and pass associative array in <code>isAllowed()</code> method. Also order doesn’t matter.</p>

<p><a name="roles-inheritance"></a></p>

<h2 id="herencia-de-roles">Herencia de roles</h2>

<p>You can build complex role structures using the inheritance that <a href="api/Phalcon_Acl_Role">Phalcon\Acl\Role</a> provides. Los roles pueden heredar de otros roles, permitiendo acceso a super conjuntos o subconjuntos de recursos. Para utilizar herencia de roles, debe pasar el rol hereditario como segundo parámetro al método <code>addRole()</code>, cuando agrega el rol a la lista.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Role;

// ...

// Creamos algunos roles

$roleAdmins = new Role('Administrador', 'Super usuario');

$roleGuests = new Role('Invitado');

// Agregamos el rol 'Invitado' al ACL
$acl-&gt;addRole($roleGuests);

// Agregamos el rol 'Administrador' heredando los accesos del rol 'Invitado'
$acl-&gt;addRole($roleAdmins, $roleGuests);
</code></pre>

<h3 id="configurar-relaciones-después-que-se-agregan-los-roles">Configurar relaciones después que se agregan los roles</h3>

<p>O puede preferir agregar todos sus roles juntos y luego definir las relaciones de herencia.</p>

<pre><code class="language-php">// Creamos algunos roles
$roleAdmins = new Role('Administrador', 'Super usuario');
$roleGuests = new Role('Invitado');

// Agregamos los roles al ACL
$acl-&gt;addRole($roleAdmins);
$acl-&gt;addRole($roleGuests);

// Agregamos el rol 'Administrador' heredando los accesos del rol 'Invitado'
$acl-&gt;addRole($roleAdmins, $roleGuests);
</code></pre>

<p><a name="serialization"></a></p>

<h2 id="serializado-de-listas-acl">Serializado de listas ACL</h2>

<p>To improve performance <a href="api/Phalcon_Acl">Phalcon\Acl</a> instances can be serialized and stored in APC, session, text files or a database table so that they can be loaded at will without having to redefine the whole list. Usted puede hacer lo siguiente:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Adapter\Memory as AclList;

// ...

// Chequeamos si los datos del ACL ya existen
if (!is_file('app/security/acl.data')) {
    $acl = new AclList();

    // ... Definimos roles, recursos, accesos, etc.

    // Almacenamos la lista serializada en un archivo
    file_put_contents(
        'app/security/acl.data',
        serialize($acl)
    );
} else {
    // Restauramos el objecto ACL desde el archivo serializado
    $acl = unserialize(
        file_get_contents('app/security/acl.data')
    );
}

// Utilice la lista ACL como desee
if ($acl-&gt;isAllowed('Invitado', 'Clientes', 'editar')) {
    echo 'Accesos obtenidos!';
} else {
    echo 'Accesos denegados :(';
}
</code></pre>

<p>Es recomendable utilizar el adaptador de memoria durante el desarrollo y uno de los otros adaptadores disponibles en producción.</p>

<p><a name="events"></a></p>

<h2 id="eventos">Eventos</h2>

<p><a href="api/Phalcon_Acl">Phalcon\Acl</a> is able to send events to an <code>EventsManager</code> if it’s present. Los eventos son disparados usando el tipo ‘acl’. Algunos eventos cuando se devuelva <code>false</code> podrían detener la operación activa. Son soportados los siguientes eventos:</p>

<table>
  <thead>
    <tr>
      <th>Nombre de evento</th>
      <th>Disparado</th>
      <th style="text-align: center">¿Detiene la operación?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>beforeCheckAccess</td>
      <td>Lanzado antes de comprobar si un rol o recurso tiene acceso</td>
      <td style="text-align: center">Si</td>
    </tr>
    <tr>
      <td>afterCheckAccess</td>
      <td>Lanzado después de comprobar si un rol o recursos tiene acceso</td>
      <td style="text-align: center">No</td>
    </tr>
  </tbody>
</table>

<p>En el ejemplo siguiente se muestra cómo adjuntar oyentes (listeners) a este componente:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Acl\Adapter\Memory as AclList;
use Phalcon\Events\Event;
use Phalcon\Events\Manager as EventsManager;

// ...

// Crear un gestor de eventos
$eventsManager = new EventsManager();

// Adjuntar un listener para el tipo 'acl'
$eventsManager-&gt;attach(
    'acl:beforeCheckAccess',
    function (Event $event, $acl) {
        echo $acl-&gt;getActiveRole();

        echo $acl-&gt;getActiveResource();

        echo $acl-&gt;getActiveAccess();
    }
);

$acl = new AclList();

// Configuramos el $acl
// ...

// Unimos el eventsManager con el ACL 
$acl-&gt;setEventsManager($eventsManager);
</code></pre>

<p><a name="custom-adapters"></a></p>

<h2 id="implementando-sus-propios-adaptadores">Implementando sus propios adaptadores</h2>

<p>The <a href="api/Phalcon_Acl_AdapterInterface">Phalcon\Acl\AdapterInterface</a> interface must be implemented in order to create your own ACL adapters or extend the existing ones.</p>

                                    </div>
                                    <div class="col-md-4 col-lg-3 col-sm-12 support-column-margin">
                                        <div class="topic-search">
    <form class="bd-search d-flex align-items-center">
        <input type="search"
               class="form-control"
               id="docs-search"
               placeholder=""
               aria-label=""
               autocomplete="off"
               data-siteurl="https://phalcon-docs4.netlify.com"
               data-docs-version="3.4">
        <button class="btn btn-link bd-search-docs-toggle d-md-none p-0 ml-3"
                type="button"
                data-toggle="collapse"
                data-target="#bd-docs-nav"
                aria-controls="bd-docs-nav"
                aria-expanded="false"
                aria-label="Toggle docs navigation">
            <svg xmlns="http://www.w3.org/2000/svg"
                 viewbox="0 0 30 30"
                 width="30"
                 height="30"
                 focusable="false">
                <title>Menu</title>
                <path stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-miterlimit="10"
                      d="M4 7h22M4 15h22M4 23h22"></path>
            </svg>
        </button>
    </form>
</div>
                                        <div class="topic-categories">
    
</div>

                                        <div class="article-menu">
    <ul>
        
        
    </ul>
</div>
                                    </div>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
            </div>
        </div>
    </div>

<footer>
    <div class="container">
        <div class="footer-wrapper clearfix">

            <div class="footer-link-container">
                <a class="footer-link" href="/">
                    <img class="footer-logo-img" src="/assets/images/footer_logo.svg" alt="logo">
                </a>
                <a class="footer-link" href="https://phalcon.link/about" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/sponsors" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/fund" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://phalcon.link/download" target="_blank">
                    
                </a>
                <a class="footer-link" href="https://license.phalconphp.com/" target="_blank">
                     New BSD
                </a>
            </div>

            <div class="footer-copyright">
                <a href="https://odva.pro/" target="_blank" class="o2-link">
                    <span></span> <img src="/assets/images/logo-o2.svg" alt="logo o2">
                </a>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/assets/js/main.min.js?v1547266080100021829"></script>
<script type="text/javascript" src="/assets/js/highlight/highlight.pack.js?v1547266080100021829"></script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
</body>
</html>

<!doctype html>
<!--[if IE 8]>
<html lang="zh-cn" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="zh-cn" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="zh-cn" class="no-js">
<!--<![endif]-->








    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <script type="text/javascript" src="/assets/js/viewport-min-width.js?v1547319779866581049"></script>
        <meta name="description"
              content="Official Phalcon Documentation">
        <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework, php extension, next generation framework, docs, documentation">
        <meta name="author" href="/humans.txt">
        <meta name="generator" content="Phalcon Team - Jekyll - Netlify">

        <link href="http://0.0.0.0:4000/3.4/zh-cn/application-micro.html" rel="canonical">
        <title>Phalcon Framework Documentation</title>

        <!-- Twitter -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@zephirlang">
        <meta name="twitter:creator" content="@zephirlang">
        <meta name="twitter:title" content="Phalcon Framework Documentation">
        <meta name="twitter:description" content="Official Phalcon Documentation">
        <meta name="twitter:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <!-- Facebook -->
        <meta property="og:url" content="http://0.0.0.0:4000">
        <meta property="og:title" content="Phalcon Framework Documentation">
        <meta property="og:description" content="Official Phalcon Documentation">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://assets.phalconphp.com/phalcon/logo.png">

        <meta name="msapplication-TileColor" content="#FFFFFF">
        <meta name="msapplication-square70x70logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-70x70.png">
        <meta name="msapplication-TileImage"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-144x144.png">
        <meta name="msapplication-square150x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-150x150.png">
        <meta name="msapplication-wide310x150logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x150.png">
        <meta name="msapplication-square310x310logo"
              content="https://assets.phalconphp.com/phalcon/icons/mstile-310x310.png">

        <link rel="apple-touch-icon"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon.png">

        <link rel="apple-touch-icon-precomposed"
              sizes="57x57"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="60x60"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="72x72"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="76x76"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="114x114"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="120x120"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="144x144"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon-precomposed"
              sizes="152x152"
              href="https://assets.phalconphp.com/phalcon/icons/apple-touch-icon-152x152.png">

        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-16x16.png">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-32x32.png">
        <link rel="icon"
              type="image/png"
              sizes="96x96"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-96x96.png">
        <link rel="icon"
              type="image/png"
              sizes="128x128"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-128x128.png">
        <link rel="icon"
              type="image/png"
              sizes="196x196"
              href="https://assets.phalconphp.com/phalcon/icons/favicon-196x196.png">
        <link rel="shortcut icon"
              type="image/png"
              href="https://assets.phalconphp.com/phalcon/favicon.ico"/>

        <link rel="alternate"
              type="application/rss+xml"
              title=" - "
              href="http://0.0.0.0:4000/feed.xml">

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="
              crossorigin="anonymous" />
        <link rel="stylesheet" href="/assets/css/monokai.css?v1547319779866581049" />
        <link rel="stylesheet" href="/assets/css/style.css?v1547319779866581049" />

        <script defer src="https://use.fontawesome.com/releases/v5.6.1/js/all.js"
                integrity="sha384-R5JkiUweZpJjELPWqttAYmYM1P3SNEJRM6ecTQF05pFFtxmCO+Y1CiUhvuDzgSVZ"
                crossorigin="anonymous"></script>
        
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90300500-6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90300500-6');
    </script>

    </head>


<body onclick="o2.allNavSlideUp()">
    <header class="header-image-doc">
        <div class="container">
            <div class="header-wrapper">
                <div class="clearfix">
                    <div class="row">
                        <div class="col-md-2 col-sm-3  col-xs-8">
                            <div class="header-image__logo-wrapper">
                                <a href="/3.4/zh-cn">
                                    <img class="logo-img" src="/assets/images/header_logo.svg" alt="logo">
                                </a>
                            </div>
                        </div>
                        <div class="col-md-10 col-sm-9 top-menu">

                            <div class="nav-icon" onclick="o2.showMobileMenu();">
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                                <div class="nav-line"></div>
                            </div>
                            <nav class="header-nav">
                                <ul>
                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                 alt="">
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list" onclick="event.stopPropagation();">
                                            
                                                <a href="/3.4/en/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                         alt="English (US)">
                                                    English (US)
                                                </a>
                                            
                                                <a href="/3.4/cs-cz/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                         alt="Czech">
                                                    Czech
                                                </a>
                                            
                                                <a href="/3.4/de-de/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                         alt="German">
                                                    German
                                                </a>
                                            
                                                <a href="/3.4/es-es/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                         alt="Spanish">
                                                    Spanish
                                                </a>
                                            
                                                <a href="/3.4/fa-ir/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                         alt="Persian">
                                                    Persian
                                                </a>
                                            
                                                <a href="/3.4/fr-fr/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                         alt="French">
                                                    French
                                                </a>
                                            
                                                <a href="/3.4/id-id/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                         alt="Indonesian">
                                                    Indonesian
                                                </a>
                                            
                                                <a href="/3.4/it-it/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                         alt="Italian">
                                                    Italian
                                                </a>
                                            
                                                <a href="/3.4/ja-jp/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                         alt="Japanese">
                                                    Japanese
                                                </a>
                                            
                                                <a href="/3.4/pl-pl/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                         alt="Polish">
                                                    Polish
                                                </a>
                                            
                                                <a href="/3.4/ru-ru/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                         alt="Russian">
                                                    Russian
                                                </a>
                                            
                                                <a href="/3.4/tr-tr/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                         alt="Turkish">
                                                    Turkish
                                                </a>
                                            
                                                <a href="/3.4/uk-ua/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                         alt="Ukrainian">
                                                    Ukrainian
                                                </a>
                                            
                                                <a href="/3.4/zh-cn/application-micro" class="custom-select__list-item">
                                                    <img class="lang-image"
                                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                         alt="Chinese Simplified">
                                                    Chinese Simplified
                                                </a>
                                            
                                        </div>
                                    </li>

                                        <li class="nav-item" onclick="o2.toggleState(this, event);">
                                            <div class="nav-item__selected custom-select__version">
                                                Version 3.4
                                                <span class="caret"></span>
                                            </div>
                                            <div class="nav-item__list" onclick="event.stopPropagation();">
                                                
                                                <a href="/3.4/zh-cn/application-micro" class="custom-select__list-item">
                                                    <span>3.4</span>
                                                </a>
                                                
                                                <a href="/3.3/zh-cn/application-micro" class="custom-select__list-item">
                                                    <span>3.3</span>
                                                </a>
                                                
                                                <a href="/3.2/zh-cn/application-micro" class="custom-select__list-item">
                                                    <span>3.2</span>
                                                </a>
                                                
                                                <a href="/3.1/zh-cn/application-micro" class="custom-select__list-item">
                                                    <span>3.1</span>
                                                </a>
                                                
                                                <a href="/4.0/zh-cn/application-micro" class="custom-select__list-item">
                                                    <span>4.0</span>
                                                </a>
                                                
                                            </div>
                                        </li>

                                    <li class="nav-item" onclick="o2.toggleState(this, event);">
                                        <div class="nav-item_selected">
                                            Community
                                            <span class="caret"></span>
                                        </div>
                                        <div class="nav-item__list">
                                            <a href="https://phalcon.link/forum" class="custom-select__list-item" target="_blank">
                                                Forum
                                            </a>
                                            <a href="https://phalcon.link/blog" class="custom-select__list-item" target="_blank">
                                                Blog
                                            </a>
                                            <a href="https://phalcon.link/resources" class="custom-select__list-item" target="_blank">
                                                Resources
                                            </a>
                                            <div class="nav-item__divider"></div>
                                            <a href="https://phalcon.link/f" class="custom-select__list-item" target="_blank">
                                                Facebook
                                            </a>
                                            <a href="https://phalcon.link/t" class="custom-select__list-item" target="_blank">
                                                Twitter
                                            </a>
                                            <a href="https://phalcon.link/gab" class="custom-select__list-item" target="_blank">
                                                Gab.ai
                                            </a>
                                        </div>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/about">
                                            About
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/sponsors">
                                            Sponsors
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/fund">
                                            Support Us
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="https://phalcon.link/download">
                                            Download
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                        <div class="header-nav-mobile">
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    <img class="lang-image"
                                         src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                         alt="">
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/en/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/en-US.png"
                                                 alt="English (US)">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/cs-cz/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/cs.png"
                                                 alt="Czech">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/de-de/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/de.png"
                                                 alt="German">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/es-es/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/es-ES.png"
                                                 alt="Spanish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fa-ir/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fa.png"
                                                 alt="Persian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/fr-fr/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/fr.png"
                                                 alt="French">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/id-id/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/id.png"
                                                 alt="Indonesian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/it-it/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/it.png"
                                                 alt="Italian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ja-jp/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ja.png"
                                                 alt="Japanese">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/pl-pl/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/pl.png"
                                                 alt="Polish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/ru-ru/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/ru.png"
                                                 alt="Russian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/tr-tr/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/tr.png"
                                                 alt="Turkish">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/uk-ua/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/uk.png"
                                                 alt="Ukrainian">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-sm-3 col-xs-6">
                                        <a href="/3.4/zh-cn/application-micro">
                                            <img class="lang-image"
                                                 src="https://d2srrzh48sp2nh.cloudfront.net/31cd209e/images/flags/zh-CN.png"
                                                 alt="Chinese Simplified">
                                            <span></span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this,event)">
                                    Version 3.4
                                    <span class="caret"></span>
                                </div>

                                <ul style="display:none;" class="clearfix" onclick="event.stopPropagation();">
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.4/zh-cn/application-micro">
                                            <span>3.4</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.3/zh-cn/application-micro">
                                            <span>3.3</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.2/zh-cn/application-micro">
                                            <span>3.2</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/3.1/zh-cn/application-micro">
                                            <span>3.1</span>
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item nav-item-li col-xs-12">
                                        <a href="/4.0/zh-cn/application-micro">
                                            <span>4.0</span>
                                        </a>
                                    </li>
                                    
                                </ul>

                            </div>
                            <div>
                                <div class="nav-item nav-item-accordion" onclick="o2.topicsAccordion(this, event)">
                                    
                                    <span class="caret"></span>
                                </div>
                                <ul style="display:none;">
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/forum" target="_blank">
                                            Forum
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/blog" target="_blank">
                                            Blog
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/resources" target="_blank">
                                            Resources
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/f" target="_blank">
                                            Facebook
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/t" target="_blank">
                                            Twitter
                                        </a>
                                    </li>
                                    <li class="nav-item nav-item-li">
                                        <a href="https://phalcon.link/gab" target="_blank">
                                            Gab.ai
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/about">
                                    About
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/sponsors">
                                    Sponsors
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/fund">
                                    Support Us
                                </a>
                            </div>
                            <div class="nav-item">
                                <a href="https://phalcon.link/download">
                                    Download
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <div class="container-fluid article-page-wrap">
        <div class="row">
            <div>
                <div class="col-md-2 sidebar hidden-xs">
                    <div class="sidebar--spacer">&nbsp;</div>
                </div>
                <div class="m-t-md m-b-lg" id="articles">
                    <div class="article-content">
                        <h1 id="微型应用">微型应用</h1>

<p>Phalcon 提供一个非常 ‘轻’ 的应用，因此您可以用很少的的 PHP 代码创建 ‘Micro’ 应用。</p>

<p>微应用程序，适合小的应用，这样会有很低的资源开销。 Such applications are for instance our `<a href="https://github.com/phalcon/website">website</a>, this website (<a href="https://github.com/phalcon/docs">docs</a>), our <a href="https://github.com/phalcon/store">store</a>, APIs, prototypes etc.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;

$app = new Micro();

$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
);

$app-&gt;handle();
</code></pre>

<p><a name="creating-micro-applications"></a></p>

<h2 id="创建一个微型的应用程序">创建一个微型的应用程序</h2>

<p>The <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> class is the one responsible for creating a Micro application.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;

$app = new Micro();
</code></pre>

<p><a name="routing"></a></p>

<h2 id="路由">路由</h2>

<p>Defining routes in a <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application is very easy. Routes are defined as follows:</p>

<pre><code class="language-text">   Application -&gt; (method/verb) -&gt; (route url/regex, callable PHP function)
</code></pre>

<p><a name="routing-setup"></a></p>

<h3 id="设置">设置</h3>

<p>Routing is handled by the <a href="api/Phalcon_Mvc_Router">Phalcon\Mvc\Router</a> object. [<a href="/3.4/en/routing">Info</a>]</p>

<h5 class="alert alert-warning">路由必须总是以 <code>/</code> 开头</h5>

<p>通常情况下，起始应用程序中是路线 <code>/</code>，并在大多数情况下它通过获取 HTTP 方法访问：</p>

<pre><code class="language-php">&lt;?php

// This is the start route
$app-&gt;get(
    '/',
    function () {
        echo '&lt;h1&gt;Welcome!&lt;/h1&gt;';
    }
);
</code></pre>

<p><a name="routing-setup-application"></a></p>

<h3 id="应用程序对象">应用程序对象</h3>

<p>Routes can be set using the <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application object as follows:</p>

<pre><code class="language-php">use Phalcon\Mvc\Micro;

$app = new Micro();

// Matches a GET request
$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
);
</code></pre>

<p><a name="routing-setup-router"></a></p>

<h3 id="路由对象">路由对象</h3>

<p>You can also create a <a href="api/Phalcon_Mvc_Router">Phalcon\Mvc\Router</a> object, setting the routes there and then injecting it in the dependency injection container.</p>

<pre><code class="language-php">use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Router;

$router = new Router();

$router-&gt;addGet(
    '/orders/display/{name}',
    'OrdersClass::display';
    }
);


$app = new Micro();
$app-&gt;setService('router', $router, true);
</code></pre>

<p>Setting up your routes using the <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> applications verb methods (<code>get</code>, <code>post</code>, etc.) is much easier than setting up a router object with relevant routes and then injecting it in the application.</p>

<p>Each method has its advantages and disadvantages. It all depends on the design and needs of your application.</p>

<p><a name="rewrite-rules"></a></p>

<h2 id="伪静态规则">伪静态规则</h2>

<p>让路由正常工作，需要在您的 web 服务器配置为特定的站点配置特定的选项。</p>

<p>Those changes are outlined in the <a href="/3.4/en/rewrite-rules">rewrite rules</a>.</p>

<p><a name="routing-handlers"></a></p>

<h2 id="处理程序">处理程序</h2>

<p>处理程序是代码的可调用段，得到附加到路由。 路由匹配匹配时，该处理程序执行已定义的所有参数。 处理程序是代码的任何可调用的 PHP 中存在。</p>

<p><a name="routing-handlers-definitions"></a></p>

<h3 id="定义">定义</h3>

<p>Phalcon offers several ways to attach a handler to a route. Your application needs and design as well as coding style will be the factors influencing your choice of implementation.</p>

<p><a name="routing-handlers-anonymous-function"></a></p>

<h4 id="匿名函数">匿名函数</h4>

<p>最后我们可以使用匿名函数 （如上图所示） 来处理该请求</p>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
);
</code></pre>

<p>访问匿名函数内部的 <code>$app</code> 对象可以通过注射它，如下所示：</p>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) use ($app) {
        $context = "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
        $app-&gt;response-&gt;setContext($context);
        $app-&gt;response-&gt;send();
    }
);
</code></pre>

<p><a name="routing-handlers-function"></a></p>

<h4 id="函数">函数</h4>

<p>我们可以定义一个函数作为我们的处理程序并将其附加到 a 的特定路由。</p>

<pre><code class="language-php">// With a function
function order_display($name) {
    echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
}

$app-&gt;get(
    '/orders/display/{name}',
    'orders_display'
);
</code></pre>

<p><a name="routing-handlers-static-method"></a></p>

<h4 id="静态方法">静态方法</h4>

<p>如下，我们也可以使用静态方法作为我们的处理程序：</p>

<pre><code class="language-php">class OrdersClass
{
    public static function display($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
}

$app-&gt;get(
    '/orders/display/{name}',
    'OrdersClass::display'
);
</code></pre>

<p><a name="routing-handlers-object-method"></a></p>

<h4 id="对象中的方法">对象中的方法</h4>

<p>我们还可以在对象中使用一种方法：</p>

<pre><code class="language-php">class OrdersClass
{
    public function display($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
}

$orders = new OrdersClass();
$app-&gt;get(
    '/orders/display/{name}',
    [
        $orders,
        'display',
    ]
);
</code></pre>

<p><a name="routing-handlers-controllers"></a></p>

<h4 id="控制器">控制器</h4>

<p>With the <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> you can create micro or medium applications. 中小型应用程序使用微体系结构，但扩大上它能利用更多微但小于完整的应用程序。</p>

<p>在中小型应用程序中，您可以组织中控制器的处理程序。</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro\Collection as MicroCollection;

$orders = new MicroCollection();

// Set the main handler. ie。 a controller instance
$orders-&gt;setHandler(new OrdersController());

// Set a common prefix for all routes
$orders-&gt;setPrefix('/orders');

// Use the method 'index' in OrdersController
$orders-&gt;get('/', 'index');

// Use the method 'show' in OrdersController
$orders-&gt;get('/display/{slug}', 'show');

$app-&gt;mount($orders);
</code></pre>

<p><code>OrdersController</code> 可能如下所示：</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class OrdersController extends Controller
{
    public function index()
    {
        // ...
    }

    public function show($name)
    {
        // ...
    }
}
</code></pre>

<p>Since our controllers extend the <a href="api/Phalcon_Mvc_Controller">Phalcon\Mvc\Controller</a>, all the dependency injection services are available with their respective registration names. For example:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class OrdersController extends Controller
{
    public function index()
    {
        // ...
    }

    public function show($name)
    {
        $context = "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
        $this-&gt;response-&gt;setContext($context);

        return $this-&gt;response;
    }
}
</code></pre>

<p><a name="routing-handlers-controllers-lazy-loading"></a></p>

<h3 id="延迟加载">延迟加载</h3>

<p>In order to increase performance, you might consider implementing lazy loading for your controllers (handlers). The controller will be loaded only if the relevant route is matched.</p>

<p>Lazy loading can be easily achieved when setting your handler in your <a href="api/Phalcon_Mvc_Micro_Collection">Phalcon\Mvc\Micro\Collection</a>:</p>

<pre><code class="language-php">$orders-&gt;setHandler('OrdersController', true);
$orders-&gt;setHandler('Blog\Controllers\OrdersController', true);
</code></pre>

<p><a name="routing-handlers-controllers-lazy-loading-use-case"></a></p>

<h4 id="使用案例">使用案例</h4>

<p>我们正在开发一个 API 的在线商店。 终结点是 <code>/ 用户</code>，<code>/ 订单</code> 和 <code>/ 产品</code>。 Each of those endpoints are registered using handlers, and each handler is a controller with relevant actions.</p>

<p>The controllers that we use as handlers are as follows:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class UsersController extends Controller
{
    public function get($id)
    {
        // ...
    }

    public function add($payload)
    {
        // ...
    }
}

class OrdersController extends Controller
{
    public function get($id)
    {
        // ...
    }

    public function add($payload)
    {
        // ...
    }
}

class ProductsController extends Controller
{
    public function get($id)
    {
        // ...
    }

    public function add($payload)
    {
        // ...
    }
}
</code></pre>

<p>We register the handlers:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro\Collection as MicroCollection;

// Users handler
$users = new MicroCollection();
$users-&gt;setHandler(new UsersController());
$users-&gt;setPrefix('/users');
$users-&gt;get('/get/{id}', 'get');
$users-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($users);

// Orders handler
$orders = new MicroCollection();
$orders-&gt;setHandler(new OrdersController());
$orders-&gt;setPrefix('/users');
$orders-&gt;get('/get/{id}', 'get');
$orders-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($orders);

// Products handler
$products = new MicroCollection();
$products-&gt;setHandler(new ProductsController());
$products-&gt;setPrefix('/products');
$products-&gt;get('/get/{id}', 'get');
$products-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($products);
</code></pre>

<p>This implementation loads each handler in turn and mounts it in our application object. The issue with this approach is that each request will result to only one endpoint and therefore one class method executed. The remaining methods/handlers will just remain in memory without being used.</p>

<p>Using lazy loading we reduce the number of objects loaded in memory and as a result our application uses less memory.</p>

<p>The above implementation changes if we want to use lazy loading as follows:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro\Collection as MicroCollection;

// Users handler
$users = new MicroCollection();
$users-&gt;setHandler(new UsersController(), true);
$users-&gt;setPrefix('/users');
$users-&gt;get('/get/{id}', 'get');
$users-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($users);

// Orders handler
$orders = new MicroCollection();
$orders-&gt;setHandler(new OrdersController(), true);
$orders-&gt;setPrefix('/users');
$orders-&gt;get('/get/{id}', 'get');
$orders-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($orders);

// Products handler
$products = new MicroCollection();
$products-&gt;setHandler(new ProductsController(), true);
$products-&gt;setPrefix('/products');
$products-&gt;get('/get/{id}', 'get');
$products-&gt;get('/add/{payload}', 'add');
$app-&gt;mount($products);
</code></pre>

<p>Using this simple change in implementation, all handlers remain uninstantiated until requested by a caller. Therefore whenever a caller requests <code>/orders/get/2</code>, our application will instantiate the <code>OrdersController</code> and call the <code>get</code> method in it. Our application now uses less resources than before.</p>

<p><a name="routing-handlers-not-found"></a></p>

<h3 id="not-found-404">Not found (404)</h3>

<p>Any route that has not been matched in our <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application will cause it to try and execute the handler defined with the <code>notFound</code> method. Similar to other methods/verbs (<code>get</code>, <code>post</code> etc.), you can register a handler in the <code>notFound</code> method which can be any callable PHP function.</p>

<pre><code class="language-php">&lt;?php

$app-&gt;notFound(
    function () use ($app) {
        $app-&gt;response-&gt;setStatusCode(404, 'Not Found');
        $app-&gt;response-&gt;sendHeaders();

        $message = 'Nothing to see here. Move along....';
        $app-&gt;response-&gt;setContent($message);
        $app-&gt;response-&gt;send();
    }
);
</code></pre>

<p>You can also handle routes that have not been matched (404) with Middleware discussed below.</p>

<p><a name="routing-verbs"></a></p>

<h2 id="methods---verbs">Methods - Verbs</h2>

<p>The <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application provides a set of methods to bind the HTTP method with the route it is intended to.</p>

<p><a name="routing-verbs-delete"></a></p>

<h3 id="delete">delete</h3>

<p>Matches if the HTTP method is <code>DELETE</code> and the route is <code>/api/products/delete/{id}</code></p>

<pre><code class="language-php">    $app-&gt;delete(
        '/api/products/delete/{id}',
        'delete_product'
    );
</code></pre>

<p><a name="routing-verbs-get"></a></p>

<h3 id="get">get</h3>

<p>Matches if the HTTP method is <code>GET</code> and the route is <code>/api/products</code></p>

<pre><code class="language-php">    $app-&gt;get(
        '/api/products',
        'get_products'
    );
</code></pre>

<p><a name="routing-verbs-head"></a></p>

<h3 id="head">head</h3>

<p>Matches if the HTTP method is <code>HEAD</code> and the route is <code>/api/products</code></p>

<pre><code class="language-php">    $app-&gt;get(
        '/api/products',
        'get_products'
    );
</code></pre>

<p><a name="routing-verbs-map"></a></p>

<h3 id="map">map</h3>

<p>Map allows you to attach the same endpoint to more than one HTTP method. The example below matches if the HTTP method is <code>GET</code> or <code>POST</code> and the route is <code>/repos/store/refs</code></p>

<pre><code class="language-php">    $app
        -&gt;map(
            '/repos/store/refs',
            'action_product'
        )
        -&gt;via(
            [
                'GET',
                'POST',
            ]
        );
</code></pre>

<p><a name="routing-verbs-options"></a></p>

<h3 id="options">options</h3>

<p>Matches if the HTTP method is <code>OPTIONS</code> and the route is <code>/api/products/options</code></p>

<pre><code class="language-php">    $app-&gt;options(
        '/api/products/options',
        'info_product'
    );
</code></pre>

<p><a name="routing-verbs-patch"></a></p>

<h3 id="patch">patch</h3>

<p>Matches if the HTTP method is <code>PATCH</code> and the route is <code>/api/products/update/{id}</code></p>

<pre><code class="language-php">    $app-&gt;patch(
        '/api/products/update/{id}',
        'update_product'
    );
</code></pre>

<p><a name="routing-verbs-post"></a></p>

<h3 id="post">post</h3>

<p>Matches if the HTTP method is <code>POST</code> and the route is <code>/api/products/add</code></p>

<pre><code class="language-php">    $app-&gt;post(
        '/api/products',
        'add_product'
    );
</code></pre>

<p><a name="routing-verbs-put"></a></p>

<h3 id="put">put</h3>

<p>Matches if the HTTP method is <code>PUT</code> and the route is <code>/api/products/update/{id}</code></p>

<pre><code class="language-php">    $app-&gt;put(
        '/api/products/update/{id}',
        'update_product'
    );
</code></pre>

<p><a name="routing-collections"></a></p>

<h2 id="collections">Collections</h2>

<p>Collections are a handy way to group collections attached to a handler and a common prefix (if needed). For a hypothetical <code>/orders</code> endpoint we could have the following endpoints:</p>

<pre><code>/orders/get/{id}
/orders/add/{payload}
/orders/update/{id}
/orders/delete/{id}
</code></pre>

<p>All of those routes are handled by our <code>OrdersController</code>. We set up our routes with a collection as follows:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro\Collection as MicroCollection;

$orders = new MicroCollection();
$orders-&gt;setHandler(new OrdersController());

$orders-&gt;setPrefix('/orders');

$orders-&gt;get('/get/{id}', 'displayAction');
$orders-&gt;get('/add/{payload}', 'addAction');
$orders-&gt;get('/update/{id}', 'updateAction');
$orders-&gt;get('/delete/{id}', 'deleteAction');

$app-&gt;mount($orders);
</code></pre>

<h5 class="alert alert-warning">The name that we bind each route has a suffix of <code>Action</code>. This is not necessary, your method can be called anything you like.</h5>

<p><a name="routing-parameters"></a></p>

<h2 id="parameters">Parameters</h2>

<p>We have briefly seen above how parameters are defined in the routes. Parameters are set in a route string by enclosing the name of the parameter in brackets.</p>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
);
</code></pre>

<p>We can also enforce certain rules for each parameter by using regular expressions. The regular expression is set after the name of the parameter, separating it with <code>:</code>.</p>

<pre><code class="language-php">// Match the order id
$app-&gt;get(
    '/orders/display/{id:[0-9]+}',
    function ($id) {
        echo "&lt;h1&gt;This is order: #{$id}!&lt;/h1&gt;";
    }
);

// Match a numeric (4) year and a title (alpha)
$app-&gt;get(
    '/posts/{year:[0-9][4]}/{title:[a-zA-Z\-]+}',
    function ($year, $title) {
        echo '&lt;h1&gt;Title: $title&lt;/h1&gt;';
        echo '&lt;h2&gt;Year: $year&lt;/h2&gt;';
    }
);
</code></pre>

<p>Additional information: <a href="api/Phalcon_Mvc_Router">Phalcon\Mvc\Router</a> <a href="/3.4/en/routing">Info</a></p>

<p><a name="routing-redirections"></a></p>

<h2 id="redirections">Redirections</h2>

<p>You can redirect one matched route to another using the <a href="api/Phalcon_Http_Response">Phalcon\Http\Response</a> object, just like in a full application.</p>

<pre><code class="language-php">$app-&gt;post('/old/url',
    function () use ($app) {
        $app-&gt;response-&gt;redirect('new/url');
        $app-&gt;response-&gt;sendHeaders();
    }
);

$app-&gt;post('/new/welcome',
    function () use ($app) {
        echo 'This is the new Welcome';
    }
);
</code></pre>

<p><strong>Note</strong> we have to pass the <code>$app</code> object in our anonymous function to have access to the <code>request</code> object.</p>

<p>When using controllers as handlers, you can perform the redirect just as easy:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Controller;

class UsersController extends Controller
{
    public function oldget($id)
    {
        return $this-&gt;response-&gt;redirect('users/get/' . $id);
    }

    public function get($id)
    {
        // ...
    }
}
</code></pre>

<p>Finally, you can perform redirections in your middleware (if you are using it). An example is below in the relevant section.</p>

<p><a name="routing-urls-for-routes"></a></p>

<h2 id="urls-for-routes">URLs for Routes</h2>

<p>Another feature of the routes is setting up named routes and generating URLs for those routes. This is a two step process.</p>

<ul>
  <li>First we need to name our route. This can be achieved with the <code>setName()</code> method that is exposed from the methods/verbs in our application (<code>get</code>, <code>post</code>, etc.);</li>
</ul>

<pre><code class="language-php">// Set a route with the name 'show-order'
$app
    -&gt;get(
        '/orders/display/{id}',
        function ($id) use ($app) {
            // ... Find the order and show it
        }
    )
    -&gt;setName('show-order');
</code></pre>

<ul>
  <li>We need to use the <a href="api/Phalcon_Mvc_Url">Phalcon\Mvc\Url</a> component to generate URLs for the named routes.</li>
</ul>

<pre><code class="language-php">// Use the named route and produce a URL from it
$app-&gt;get(
    '/',
    function () use ($app) {
        $url = sprintf(
            '&lt;a href="%s"&gt;Show the order&lt;/a&gt;',
            $app-&gt;url-&gt;get(
                [
                    'for' =&gt; 'show-order',
                    'id'  =&gt; 1234,
                ]
            )
        );

        echo $url;
    }
);
</code></pre>

<p><a name="dependency-injector"></a></p>

<h1 id="dependency-injector">Dependency Injector</h1>

<p>When a micro application is created, a <a href="api/Phalcon_Di_FactoryDefault">Phalcon\Di\FactoryDefault</a> services container is create implicitly.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
$app = new Micro();

$app-&gt;get(
    '/',
    function () use ($app) {
        $app-&gt;response-&gt;setContent('Hello!!');
        $app-&gt;response-&gt;send();
    }
);
</code></pre>

<p>You can also create a Di container yourself, and assign it to the micro application, therefore manipulating the services depending on the needs of your application.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Di\FactoryDefault;
use Phalcon\Config\Adapter\Ini as IniConfig;

$di = new FactoryDefault();

$di-&gt;set(
    'config',
    function () {
        return new IniConfig('config.ini');
    }
);

$app = new Micro();

$app-&gt;setDI($di);

$app-&gt;get(
    '/',
    function () use ($app) {
        // Read a setting from the config
        echo $app-&gt;config-&gt;app_name;
    }
);

$app-&gt;post(
    '/contact',
    function () use ($app) {
        $app-&gt;flash-&gt;success('What are you doing Dave?');
    }
);
</code></pre>

<p>You can also use the array syntax to register services in the dependency injection container from the application object:</p>

<pre><code class="language-php">&lt;br /&gt;&amp;lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Db\Adapter\Pdo\Mysql as MysqlAdapter;

$app = new Micro();

// Setup the database service
$app['db'] = function () {
    return new MysqlAdapter(
        [
            'host'     =&amp;gt; 'localhost',
            'username' =&amp;gt; 'root',
            'password' =&amp;gt; 'secret',
            'dbname'   =&amp;gt; 'test_db',
        ]
    );
};

$app-&amp;gt;get(
    '/blog',
    function () use ($app) {
        $news = $app['db']-&amp;gt;query('SELECT * FROM news');

        foreach ($news as $new) {
            echo $new-&amp;gt;title;
        }
    }
);
</code></pre>

<p><a name="responses"></a></p>

<h1 id="responses">Responses</h1>

<p>A micro application can return many different types of responses. Direct output, use a template engine, calculated data, view based data, JSON etc.</p>

<p>Handlers may return raw responses using plain text, <a href="api/Phalcon_Http_Response">Phalcon\Http\Response</a> object or a custom built component that implements the <a href="api/Phalcon_Http_ResponseInterface">Phalcon\Http\ResponseInterface</a>.</p>

<p><a name="responses-direct-output"></a></p>

<h2 id="direct-output">Direct output</h2>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo "&lt;h1&gt;This is order: {$name}!&lt;/h1&gt;";
    }
);
</code></pre>

<p><a name="responses-include"></a></p>

<h2 id="including-another-file">Including another file</h2>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        require 'views/results.php';
    }
);
</code></pre>

<p><a name="responses-direct-output-json"></a></p>

<h2 id="direct-output-json">Direct output JSON</h2>

<pre><code class="language-php">$app-&gt;get(
    '/orders/display/{name}',
    function ($name) {
        echo json_encode(
            [
                'code' =&gt; 200,
                'name' =&gt; $name,
            ]
        );
    }
);
</code></pre>

<p><a name="responses-new-response-object"></a></p>

<h2 id="new-response-object">New Response object</h2>

<p>You can use the <code>setContent</code> method of the response object to return the response back:</p>

<pre><code class="language-php">$app-&gt;get(
    '/show/data',
    function () {
        // Create a response
        $response = new Phalcon\Http\Response();

        // Set the Content-Type header
        $response-&gt;setContentType('text/plain');

        // Pass the content of a file
        $response-&gt;setContent(file_get_contents('data.txt'));

        // Return the response
        return $response;
    }
);
</code></pre>

<p><a name="responses-application-response"></a></p>

<h2 id="application-response">Application Response</h2>

<p>You can also use the <a href="api/Phalcon_Http_Response">Phalcon\Http\Response</a> object to return responses to the caller. The response object has a lot of useful methods that make returning respones much easier.</p>

<pre><code class="language-php">$app-&gt;get(
    '/show/data',
    function () use ($app) {
        // Set the Content-Type header
        $app-&gt;response-&gt;setContentType('text/plain');
        $app-&gt;response-&gt;sendHeaders();

        // Print a file
        readfile('data.txt');
    }
);
</code></pre>

<p><a name="responses-return-application-response"></a></p>

<h2 id="return-application-response">Return Application Response</h2>

<p>A different approach returning data back to the caller is to return the response object directly from the application. When responses are returned by handlers they are automatically sent by the application.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Http\Response;

$app = new Micro();

// Return a response
$app-&gt;get(
    '/welcome/index',
    function () {
        $response = new Response();

        $response-&gt;setStatusCode(401, 'Unauthorized');
        $response-&gt;setContent('Access is not authorized');

        return $response;
    }
);
</code></pre>

<p><a name="responses-json"></a></p>

<h2 id="json">JSON</h2>

<p>JSON can be sent back just as easy using the <a href="api/Phalcon_Http_Response">Phalcon\Http\Response</a> object:</p>

<pre><code class="language-php">$app-&gt;get(
    '/welcome/index',
    function () use ($app) {

        $data = [
            'code'    =&gt; 401,
            'status'  =&gt; 'error',
            'message' =&gt; 'Unauthorized access',
            'payload' =&gt; [],
        ];

        $response-&gt;setJsonContent($data);

        return $response;
    }
);
</code></pre>

<p><a name="events"></a></p>

<h1 id="events">Events</h1>

<p>A <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application works closely with a <a href="api/Phalcon_Events_Manager">Phalcon\Events\Manager</a> if it is present, to trigger events that can be used throughout our application. The type of those events is <code>micro</code>. These events trigger in our application and can be attached to relevant handlers that will perform actions needed by our application.</p>

<p><a name="events-available-events"></a></p>

<h2 id="available-events">Available events</h2>

<p>The following events are supported:</p>

<table>
  <thead>
    <tr>
      <th>Event Name</th>
      <th>Triggered</th>
      <th style="text-align: center">Can stop operation?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>beforeHandleRoute</td>
      <td>Main method called; Routes have not been checked yet</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>beforeExecuteRoute</td>
      <td>Route matched, Handler valid, Handler has not been executed yet</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>afterExecuteRoute</td>
      <td>Handler just finished running</td>
      <td style="text-align: center">No</td>
    </tr>
    <tr>
      <td>beforeNotFound</td>
      <td>Route has not been found</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>afterHandleRoute</td>
      <td>Route just finished executing</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td>afterBinding</td>
      <td>Triggered after models are bound but before executing the handler</td>
      <td style="text-align: center">Yes</td>
    </tr>
  </tbody>
</table>

<p><a name="events-available-events-authentication"></a></p>

<h3 id="authentication-example">Authentication example</h3>

<p>You can easily check whether a user has been authenticated or not using the <code>beforeExecuteRoute</code> event. In the following example, we explain how to control the application security using events:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Events\Event;
use Phalcon\Events\Manager as EventsManager;

// Create a events manager
$eventsManager = new EventsManager();

$eventsManager-&gt;attach(
    'micro:beforeExecuteRoute',
    function (Event $event, $app) {
        if ($app-&gt;session-&gt;get('auth') === false) {
            $app-&gt;flashSession-&gt;error("The user isn't authenticated");

            $app-&gt;response-&gt;redirect('/');
            $app-&gt;response-&gt;sendHeaders();

            // Return (false) stop the operation
            return false;
        }
    }
);

$app = new Micro();

// Bind the events manager to the app
$app-&gt;setEventsManager($eventsManager);
</code></pre>

<p><a name="events-available-events-not-found"></a></p>

<h3 id="not-found-example">Not found example</h3>

<p>You can easily check whether a user has been authenticated or not using the <code>beforeExecuteRoute</code> event. In the following example, we explain how to control the application security using events:</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Events\Event;
use Phalcon\Events\Manager as EventsManager;

// Create a events manager
$eventsManager = new EventsManager();

$eventsManager-&gt;attach(
    'micro:beforeNotFound',
    function (Event $event, $app) {
        $app-&gt;response-&gt;redirect('/404');
        $app-&gt;response-&gt;sendHeaders();

        return $app-&gt;response;
    }
);

$app = new Micro();

// Bind the events manager to the app
$app-&gt;setEventsManager($eventsManager);
</code></pre>

<p><a name="middleware"></a></p>

<h1 id="middleware">Middleware</h1>

<p>Middleware are classes that can be attached to your application and introduce another layer where business logic can exist. They run sequentially, according to the order they are registered and not only improve mainainability, by encapsulating specific functionality, but also performance. A middleware class can stop execution when a particular business rule has not been satisfied, thus allowing the application to exit early without executing the full cycle of a request.</p>

<p>The presence of a <a href="api/Phalcon_Events_Manager">Phalcon\Events\Manager</a> is essential for middleware to operate, so it has to be registered in our Di container.</p>

<p><a name="middleware-attached-events"></a></p>

<h2 id="attached-events">Attached events</h2>

<p>Middleware can be attached to a micro application in 3 different events. Those are:</p>

<table>
  <thead>
    <tr>
      <th>Event</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>before</td>
      <td>Before the handler has been executed</td>
    </tr>
    <tr>
      <td>after</td>
      <td>After the handler has been executed</td>
    </tr>
    <tr>
      <td>final</td>
      <td>After the response has been sent to the caller</td>
    </tr>
  </tbody>
</table>

<h5 class="alert alert-warning">You can attach as many middleware classes as you want in each of the above events. They will be executed sequentially when the relevant event fires.</h5>

<p><a name="middleware-attached-events-before"></a></p>

<h3 id="before">before</h3>

<p>This event is perfect for stopping execution of the application if certain criteria is not met. In the below example we are checking if the user has been authenticated and stop execution with the necessary redirect.</p>

<pre><code class="language-php">&lt;?php

$app = new Phalcon\Mvc\Micro();

// Executed before every route is executed
// Return false cancels the route execution
$app-&gt;before(
    function () use ($app) {
        if (false === $app['session']-&gt;get('auth')) {
            $app['flashSession']-&gt;error("The user isn't authenticated");

            $app['response']-&gt;redirect('/error');

            // Return false stops the normal execution
            return false;
        }

        return true;
    }
);
</code></pre>

<p><a name="middleware-attached-events-after"></a></p>

<h3 id="after">after</h3>

<p>This event can be used to manipulate data or perform actions that are needed after the handler has finished executing. In the example below, we manipulate our response to send JSON back to the caller.</p>

<pre><code class="language-php">$app-&gt;map(
    '/api/robots',
    function () {
        return [
            'status' =&gt; 'OK',
        ];
    }
);

$app-&gt;after(
    function () use ($app) {
        // This is executed after the route is executed
        echo json_encode($app-&gt;getReturnedValue());
    }
);
</code></pre>

<p><a name="middleware-attached-events-finish"></a></p>

<h3 id="finish">finish</h3>

<p>This even will fire up when the whole request cycle has been completed. In the example below, we use it to clean up some cache files.</p>

<pre><code class="language-php">$app-&gt;finish(
    function () use ($app) {
        if (true === file_exists('/tmp/processing.cache')) {
            unlink('/tmp/processing.cache');
        }
    }
);
</code></pre>

<p><a name="middleware-setup"></a></p>

<h2 id="设置-1">设置</h2>

<p>附加到您应用程序的中间件是很容易的如上所示，与 <code>before</code>、 <code>after</code> 和 <code>finish</code> 的方法调用。</p>

<pre><code class="language-php">$app-&gt;before(
    function () use ($app) {
        if (false === $app['session']-&gt;get('auth')) {
            $app['flashSession']-&gt;error("The user isn't authenticated");

            $app['response']-&gt;redirect('/error');

            // Return false stops the normal execution
            return false;
        }

        return true;
    }
);

$app-&gt;after(
    function () use ($app) {
        // This is executed after the route is executed
        echo json_encode($app-&gt;getReturnedValue());
    }
);
</code></pre>

<p>将中间件附加到您的应用程序，如类和让它听事件中，从事件管理器可以实现，如下所示：</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Manager;
use Phalcon\Mvc\Micro;

use Website\Middleware\CacheMiddleware;
use Website\Middleware\NotFoundMiddleware;
use Website\Middleware\ResponseMiddleware;

/**
 * Create a new Events Manager.
 */
$eventsManager = new Manager();
$application   = new Micro();

/**
 * Attach the middleware both to the events manager and the application
 */
$eventsManager-&gt;attach('micro', new CacheMiddleware());
$application-&gt;before(new CacheMiddleware());

$eventsManager-&gt;attach('micro', new NotFoundMiddleware());
$application-&gt;before(new NotFoundMiddleware());

/**
 * This one needs to listen on the `after` event
 */
$eventsManager-&gt;attach('micro', new ResponseMiddleware());
$application-&gt;after(new ResponseMiddleware());

/**
 * Make sure our events manager is in the DI container now
 */
$application-&gt;setEventsManager($eventsManager);

</code></pre>

<p>We need a <a href="api/Phalcon_Events_Manager">Phalcon\Events\Manager</a> object. 这可以是一个新实例化的对象或者我们可以得到那个存在在我们 DI 容器 （如果你使用了 <code>FactoryDefault</code> 人）。</p>

<p>We attach every middleware class in the <code>micro</code> hook in the Events Manager. We could also be a bit more specific and attach it to say the <code>micro:beforeExecuteRoute</code> event.</p>

<p>我们然后将中间件类附加在我们的应用程序上讨论以上 （<code>before</code>, <code>after</code>, <code>finish</code>） 的三个侦听事件之一。</p>

<p><a name="middleware-implementation"></a></p>

<h2 id="implementation">Implementation</h2>

<p>中间件可以是任何类型的 PHP 可调用函数。 您可以组织你的代码不管你喜欢它执行中间件。 If you choose to use classes for your middleware, you will need them to implement the <a href="api/Phalcon_Mvc_Micro_MiddlewareInterface">Phalcon\Mvc\Micro\MiddlewareInterface</a></p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * CacheMiddleware
 *
 * Caches pages to reduce processing
 */
class CacheMiddleware implements MiddlewareInterface
{
    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        $cache  = $application['cache'];
        $router = $application['router'];

        $key = preg_replace('/^[a-zA-Z0-9]/', '', $router-&gt;getRewriteUri());

        // Check if the request is cached
        if ($cache-&gt;exists($key)) {
            echo $cache-&gt;get($key);

            return false;
        }

        return true;
    }
}
</code></pre>

<p><a name="middleware-events"></a></p>

<h2 id="在中间件中的事件">在中间件中的事件</h2>

<p>The <a href="#events">events</a> that are triggered for our application also trigger inside a class that implements the <a href="api/Phalcon_Mvc_Micro_MiddlewareInterface">Phalcon\Mvc\Micro\MiddlewareInterface</a>. 这提供了极大的灵活性和力量开发商因为我们可以与请求流程进行交互。</p>

<p><a name="middleware-events-api"></a></p>

<h3 id="api-的示例">API 的示例</h3>

<p>假设我们有一个 API，我们已与微观应用程序。 我们将需要附加不同的中间件类在应用程序中，这样我们可以更好地控制应用程序的执行。</p>

<p>The middleware that we will use are:</p>

<ul>
  <li>Firewall</li>
  <li>NotFound</li>
  <li>Redirect</li>
  <li>CORS</li>
  <li>Request</li>
  <li>Response</li>
</ul>

<p><a name="middleware-events-api-firewall"></a></p>

<h4 id="防火墙中间件">防火墙中间件</h4>

<p>这个中间件被附加到我们微应用 <code>before</code> 事件。 这个中间件的目的是检查谁我们的 API 和基于白名单中，允许他们继续或不</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;
use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * FirewallMiddleware
 *
 * Checks the whitelist and allows clients or not
 */
class FirewallMiddleware implements MiddlewareInterface
{
    /**
     * Before anything happens
     *
     * @param Event $event
     * @param Micro $application
     *
     * @returns bool
     */
    public function beforeHandleRoute(Event $event, Micro $application)
    {
        $whitelist = [
            '10.4.6.1',
            '10.4.6.2',
            '10.4.6.3',
            '10.4.6.4',
        ];
        $ipAddress = $application-&gt;request-&gt;getClientAddress();

        if (true !== array_key_exists($ipAddress, $whitelist)) {
            $this-&gt;response-&gt;redirect('/401');
            $this-&gt;response-&gt;send();

            return false;
        }

        return true;
    }

    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        return true;
    }
}
</code></pre>

<p><a name="middleware-events-api-not-found"></a></p>

<h4 id="找不到的中间件">“找不到”的中间件</h4>

<p>这个中间件进行处理时，这意味着请求 IP 允许访问我们的应用程序。 应用程序将尝试和匹配的路由，如果找不到 <code>beforeNotFound</code> 事件会火。 我们将停止处理然后发送回用户有关 404 响应。 这个中间件被附加到我们微应用 <code>before</code> 事件。</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * NotFoundMiddleware
 *
 * Processes the 404s
 */
class NotFoundMiddleware implements MiddlewareInterface
{
    /**
     * The route has not been found
     *
     * @returns bool
     */
    public function beforeNotFound()
    {
        $this-&gt;response-&gt;redirect('/404');
        $this-&gt;response-&gt;send();

        return false;
    }

    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        return true;
    }
}
</code></pre>

<p><a name="middleware-events-api-redirect"></a></p>

<h4 id="redirect-middleware">Redirect Middleware</h4>

<p>我们附加这个中间件再到我们的微应用程序 <code>before</code> 事件因为我们不想请求继续如果请求终结点需要被重定向。</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;
use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * RedirectMiddleware
 *
 * Checks the request and redirects the user somewhere else if need be
 */
class RedirectMiddleware implements MiddlewareInterface
{
    /**
     * Before anything happens
     *
     * @param Event $event
     * @param Micro $application
     *
     * @returns bool
     */
    public function beforeHandleRoute(Event $event, Micro $application)
    {
        if ('github' === $application-&gt;request-&gt;getURI()) {
            $application-&gt;response-&gt;redirect('https://github.com');
            $application-&gt;response-&gt;send();

            return false;
        }

        return true;
    }

    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        return true;
    }
}
</code></pre>

<p><a name="middleware-events-api-cors"></a></p>

<h4 id="cors-中间件">CORS 中间件</h4>

<p>Again this middleware is attached to the <code>before</code> event of our Micro application. We need to ensure that it fires before anything happens with our application</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;
use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * CORSMiddleware
 *
 * CORS checking
 */
class CORSMiddleware implements MiddlewareInterface
{
    /**
     * Before anything happens
     *
     * @param Event $event
     * @param Micro $application
     *
     * @returns bool
     */
    public function beforeHandleRoute(Event $event, Micro $application)
    {
        if ($application-&gt;request-&gt;getHeader('ORIGIN')) {
            $origin = $application-&gt;request-&gt;getHeader('ORIGIN');
        } else {
            $origin = '*';
        }

        $application
            -&gt;response
            -&gt;setHeader('Access-Control-Allow-Origin', $origin)
            -&gt;setHeader(
                'Access-Control-Allow-Methods',
                'GET,PUT,POST,DELETE,OPTIONS'
            )
            -&gt;setHeader(
                'Access-Control-Allow-Headers',
                'Origin, X-Requested-With, Content-Range, ' .
                'Content-Disposition, Content-Type, Authorization'
            )
            -&gt;setHeader('Access-Control-Allow-Credentials', 'true');
    }

    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        return true;
    }
}
</code></pre>

<p><a name="middleware-events-api-request"></a></p>

<h4 id="请求中间件">请求中间件</h4>

<p>This middleware is receiving a JSON payload and checks it. If the JSON payload is not valid it will stop execution.</p>

<pre><code class="language-php">&lt;?php

use Phalcon\Events\Event;
use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
 * RequestMiddleware
 *
 * Check incoming payload
 */
class RequestMiddleware implements MiddlewareInterface
{
    /**
     * Before the route is executed
     *
     * @param Event $event
     * @param Micro $application
     *
     * @returns bool
     */
    public function beforeExecuteRoute(Event $event, Micro $application)
    {
        json_decode($application-&gt;request-&gt;getRawBody());
        if (JSON_ERROR_NONE !== json_last_error()) {
            $application-&gt;response-&gt;redirect('/malformed');
            $application-&gt;response-&gt;send();

            return false;
        }

        return true;

    }

    /**
     * Calls the middleware
     *
     * @param Micro $application
     *
     * @returns bool
     */
    public function call(Micro $application)
    {
        return true;
    }
}
</code></pre>

<p><a name="middleware-events-api-response"></a></p>

<h4 id="响应中间件">响应中间件</h4>

<p>这个中间件负责操纵我们的反应，并将其发送回调用方以 JSON 字符串。 因此我们需要将它附加到我们微应用 <code>后</code> 事件。</p>

<h5 class="alert alert-warning">我们打算使用 <code>call</code> 方法这个中间件，因为我们有近执行整个请求周期。</h5>

<pre><code class="language-php">&lt;?php

use Phalcon\Mvc\Micro;
use Phalcon\Mvc\Micro\MiddlewareInterface;

/**
* ResponseMiddleware
*
* Manipulates the response
*/
class ResponseMiddleware implements MiddlewareInterface
{
     /**
      * Before anything happens
      *
      * @param Micro $application
      *
      * @returns bool
      */
    public function call(Micro $application)
    {
        $payload = [
            'code'    =&gt; 200,
            'status'  =&gt; 'success',
            'message' =&gt; '',
            'payload' =&gt; $application-&gt;getReturnedValue(),
        ];

        $application-&gt;response-&gt;setJsonContent($payload);
        $application-&gt;response-&gt;send();

        return true;
    }
}
</code></pre>

<p><a name="models"></a></p>

<h1 id="模型">模型</h1>

<p>模型可以用于在微观应用中，只要我们指示应用程序如何去自动加载相关的类。</p>

<h5 class="alert alert-warning">有关 <code>db</code> 服务必须在你 Di 容器注册。</h5>

<pre><code class="language-php">&lt;?php

$loader = new \Phalcon\Loader();
$loader
    -&gt;registerDirs(
        [
            __DIR__ . '/models/',
        ]
    )
    -&gt;register();

$app = new \Phalcon\Mvc\Micro();

$app-&gt;get(
    '/products/find',
    function () {
        $products = \MyModels\Products::find();

        foreach ($products as $product) {
            echo $product-&gt;name, '&lt;br&gt;';
        }
    }
);

$app-&gt;handle();
</code></pre>

<p><a name="model-instances"></a></p>

<h1 id="注入模型实例">注入模型实例</h1>

<p>By using the <a href="api/Phalcon_Mvc_Model_Binder">Phalcon\Mvc\Model\Binder</a> class you can inject model instances into your routes:</p>

<pre><code class="language-php">&lt;?php

$loader = new \Phalcon\Loader();

$loader-&gt;registerDirs(
    [
        __DIR__ . '/models/',
    ]
)-&gt;register();

$app = new \Phalcon\Mvc\Micro();
$app-&gt;setModelBinder(new \Phalcon\Mvc\Model\Binder());

$app-&gt;get(
    "/products/{product:[0-9]+}",
    function (Products $product) {
        // do anything with $product object
    }
);

$app-&gt;handle();
</code></pre>

<p>既然联编程序对象内部使用反射 Api，可以是重，就设置一个缓存，加快这一进程的能力。 这可以通过使用 <code>setModelBinder()</code> 也可以接受服务名称第二个参数或只是通过向 <code>Binder</code> 构造函数传递一个缓存实例。</p>

<p>Currently the binder will only use the models primary key to perform a <code>findFirst()</code> on. An example route for the above would be <code>/products/1</code>.</p>

<p><a name="views"></a></p>

<h1 id="视图">视图</h1>

<p><a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> does not have inherently a view service. We can however use the <a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> component to render views.</p>

<pre><code class="language-php">&lt;?php

$app = new Phalcon\Mvc\Micro();

$app['view'] = function () {
    $view = new \Phalcon\Mvc\View\Simple();

    $view-&gt;setViewsDir('app/views/');

    return $view;
};

// Return a rendered view
$app-&gt;get(
    '/products/show',
    function () use ($app) {
        // Render app/views/products/show.phtml passing some variables
        echo $app['view']-&gt;render(
            'products/show',
            [
                'id'   =&gt; 100,
                'name' =&gt; 'Artichoke',
            ]
        );
    }
);
</code></pre>

<h5 class="alert alert-warning">The above example uses the <a href="api/Phalcon_Mvc_View_Simple">Phalcon\Mvc\View\Simple</a> component, which uses relative paths instead of controllers and actions. You can use the <a href="api/Phalcon_Mvc_View">Phalcon\Mvc\View</a> component instead, but to do so you will need to change the parameters passed to <code>render()</code></h5>

<pre><code class="language-php">&lt;?php

$app = new Phalcon\Mvc\Micro();

$app['view'] = function () {
    $view = new \Phalcon\Mvc\View();

    $view-&gt;setViewsDir('app/views/');

    return $view;
};

// Return a rendered view
$app-&gt;get(
    '/products/show',
    function () use ($app) {
        // Render app/views/products/show.phtml passing some variables
        echo $app['view']-&gt;render(
            'products',
            'show',
            [
                'id'   =&gt; 100,
                'name' =&gt; 'Artichoke',
            ]
        );
    }
);
</code></pre>

<p><a name="error-handling"></a></p>

<h1 id="错误处理">错误处理</h1>

<p>The <a href="api/Phalcon_Mvc_Micro">Phalcon\Mvc\Micro</a> application also has an <code>error</code> method, which can be used to trap any errors that originate from exceptions. 下面的代码片段显示了此功能的基本用法：</p>

<pre><code class="language-php">&lt;?php

$app = new Phalcon\Mvc\Micro();

$app-&gt;get(
    '/',
    function () {
        throw new \Exception('Some error happened', 401);
    }
);

$app-&gt;error(
    function ($exception) {
        echo json_encode(
            [
                'code'    =&gt; $exception-&gt;getCode(),
                'status'  =&gt; 'error',
                'message' =&gt; $exception-&gt;getMessage(),
            ]
        );
    }
);
</code></pre>

                    </div>
                </div>
            </div>
        </div>
    </div>

<footer>
    <div class="container">
        <div class="footer-wrapper clearfix">

            <div class="footer-link-container">
                <a class="footer-link" href="/">
                    <img class="footer-logo-img" src="/assets/images/footer_logo.svg" alt="logo">
                </a>
                <a class="footer-link" href="https://phalcon.link/about" target="_blank">
                    About
                </a>
                <a class="footer-link" href="https://phalcon.link/sponsors" target="_blank">
                    Sponsors
                </a>
                <a class="footer-link" href="https://phalcon.link/fund" target="_blank">
                    Support Us
                </a>
                <a class="footer-link" href="https://phalcon.link/download" target="_blank">
                    Download
                </a>
                <a class="footer-link" href="https://license.phalconphp.com/" target="_blank">
                    License New BSD
                </a>
            </div>

            <div class="footer-copyright">
                <a href="https://odva.pro/" target="_blank" class="o2-link">
                    <span>Development by</span> <img src="/assets/images/logo-o2.svg" alt="logo o2">
                </a>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/assets/js/main.min.js?v1547319779866581049"></script>
<script type="text/javascript" src="/assets/js/highlight/highlight.pack.js?v1547319779866581049"></script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
<script type="application/javascript">hljs.initHighlightingOnLoad();</script>
</body>
</html>
